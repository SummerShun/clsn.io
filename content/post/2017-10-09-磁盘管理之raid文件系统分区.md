---
title: 磁盘管理之 raid 文件系统 分区
author: 惨绿少年
type: post
date: 2017-10-08T18:07:00+00:00
url: /clsn/lx962.html
Baidusubmit:
  - 1
views:
  - 119
categories:
  - Linux运维
  - 存储
  - 玩转Linux
  - 运维基本功

---
<div>
  <h1>
    <span id="1_RAID">第1章 RAID <span style="font-family:新宋体;Times New Roman";Times New Roman"">磁盘阵列</span></span>
  </h1>
  
  <h2>
    <span id="11_raid">1.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">使用</span>raid<span style="font-family:新宋体;Times New Roman";Times New Roman"">的目的</span></span>
  </h2>
  
  <p style="margin-left:24.0pt;">
    1<span style="font-family:新宋体;Times New Roman";Times New Roman"">）获得更大的容量</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    2<span style="font-family:新宋体;Times New Roman";Times New Roman"">）让数据更安全</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    3<span style="font-family:新宋体;Times New Roman";Times New Roman"">）读写速度更快</span>
  </p>
  
  <h2>
    <span id="12_raid0raid1raid5raid10">1.2 raid0<span style="font-family:新宋体;Times New Roman";Times New Roman"">、</span>raid1<span style="font-family:新宋体;Times New Roman";Times New Roman"">、</span>raid5<span style="font-family:新宋体;Times New Roman";Times New Roman"">、</span>raid10<span style="font-family:新宋体;Times New Roman";Times New Roman"">对比</span></span>
  </h2>
  
  <table border="1" cellspacing="0" cellpadding="0" style="border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;">
    <tr>
      <td width="113" style="width: 84.8pt; border-top: 1pt solid #4f81bd; border-bottom: 1pt solid #4f81bd; border-left: 1pt solid #4f81bd; border-right: none; background: #4f81bd; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong><span style="color:white;">raid</span></strong><strong><span style="font-family:新宋体;Times New Roman";Times New Roman";color:white;">类型</span></strong>
        </p>
      </td>
      
      <td width="132" style="width:99.25pt;border-top:solid #4F81BD 1.0pt;border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center;">
          <strong><span style="font-family:新宋体;Times New Roman";Times New Roman";color:white;">数量</span></strong>
        </p>
      </td>
      
      <td width="180" style="width:134.65pt;border-top:solid #4F81BD 1.0pt;border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center;">
          <strong><span style="font-family:新宋体;Times New Roman";Times New Roman";color:white;">优点</span></strong>
        </p>
      </td>
      
      <td width="133" style="width:99.5pt;border-top:solid #4F81BD 1.0pt;border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center;">
          <strong><span style="font-family:新宋体;Times New Roman";Times New Roman";color:white;">缺点</span></strong>
        </p>
      </td>
      
      <td width="139" style="width: 104.6pt; border-top: 1pt solid #4f81bd; border-right: 1pt solid #4f81bd; border-bottom: 1pt solid #4f81bd; border-left: none; background: #4f81bd; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong><span style="font-family:新宋体;Times New Roman";Times New Roman";color:white;">使用类型</span></strong>
        </p>
      </td>
    </tr>
    
    <tr>
      <td width="113" style="width: 84.8pt; border-right: 1pt solid #95b3d7; border-bottom: 1pt solid #95b3d7; border-left: 1pt solid #95b3d7; border-top: none; background: #dbe5f1; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong>raid0 </strong><strong><span style="font-family:新宋体;Times New Roman";Times New Roman"">条带</span></strong>
        </p>
      </td>
      
      <td width="132" style="width:99.25pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">至少</span>1<span style="font-family: 新宋体;Times New Roman";Times New Roman"">块硬盘。</span>
        </p>
      </td>
      
      <td width="180" style="width:134.65pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">把所有硬盘的容量加在一起，读写速度更快</span>
        </p>
      </td>
      
      <td width="133" style="width:99.5pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">一块硬盘损坏，整体都不能使用</span>
        </p>
      </td>
      
      <td width="139" style="width:104.6pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">数据不是很重要，追求性能</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">数据库的从库</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">集群的某个节点</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td width="113" style="width: 84.8pt; border-right: 1pt solid #95b3d7; border-bottom: 1pt solid #95b3d7; border-left: 1pt solid #95b3d7; border-top: none; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong>raid1 </strong><strong><span style="font-family:新宋体;Times New Roman";Times New Roman"">镜像</span></strong>
        </p>
      </td>
      
      <td width="132" style="width:99.25pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">只能是两块硬盘</span>
        </p>
      </td>
      
      <td width="180" style="width:134.65pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">安全，有</span>100%<span style="font-family:新宋体;Times New Roman";Times New Roman"">的冗余</span>
        </p>
      </td>
      
      <td width="133" style="width:99.5pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">写入速度比较慢</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">读取还可以</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">成本较高</span>
        </p>
      </td>
      
      <td width="139" style="width:104.6pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">对数据安全要求比较高，不需要太多的性能</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td width="113" style="width: 84.8pt; border-right: 1pt solid #95b3d7; border-bottom: 1pt solid #95b3d7; border-left: 1pt solid #95b3d7; border-top: none; background: #dbe5f1; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong>raid5</strong>
        </p>
      </td>
      
      <td width="132" style="width:99.25pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">至少三块硬盘</span>
        </p>
      </td>
      
      <td width="180" style="width:134.65pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">有奇偶校验，有一定的冗余，最多损坏</span>1<span style="font-family:新宋体;Times New Roman";Times New Roman"">块硬盘</span> <span style="font-family: 新宋体;Times New Roman";Times New Roman"">损失一块硬盘的容量</span>
        </p>
      </td>
      
      <td width="133" style="width:99.5pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">读取性能可以</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">写入很慢</span>
        </p>
      </td>
      
      <td width="139" style="width:104.6pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;background:#DBE5F1;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">比较通用。</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph;">
          +spare
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph;">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">可以作为热备</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td width="113" style="width: 84.8pt; border-right: 1pt solid #95b3d7; border-bottom: 1pt solid #95b3d7; border-left: 1pt solid #95b3d7; border-top: none; padding: 0cm 5.4pt;">
        <p align="center" style="text-align:center;">
          <strong>raid10</strong>
        </p>
      </td>
      
      <td width="132" style="width:99.25pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p align="center" style="text-align:center">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">最少</span>4<span style="font-family: 新宋体;Times New Roman";Times New Roman"">块硬盘</span>
        </p>
        
        <p align="center" style="text-align:center">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">数量必须是偶数</span>
        </p>
      </td>
      
      <td width="180" style="width:134.65pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">读写的速度都很快，安全性较高冗余，最多可以损坏一半</span>
        </p>
      </td>
      
      <td width="133" style="width:99.5pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">成本高</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">容量浪费一半</span>
        </p>
      </td>
      
      <td width="139" style="width:104.6pt;border-top:none;border-left:none;   border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;padding:0cm 5.4pt 0cm 5.4pt">
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">数据库</span>
        </p>
        
        <p style="text-align:justify;text-justify:inter-ideograph">
          <span style="font-family:新宋体;Times New Roman";Times New Roman"">重要的文件</span>
        </p>
      </td>
    </tr>
  </table>
  
  <h1>
    <span id="2">第2章 <span style="font-family:新宋体;Times New Roman";Times New Roman"">磁盘分区</span></span>
  </h1>
  
  <h2>
    <span id="21_mbr">2.1 mbr<span style="font-family:新宋体;Times New Roman";Times New Roman"">是什么</span></span>
  </h2>
  
  <p style="text-indent:18.0pt">
    mbr<span style="font-family:新宋体;Times New Roman";Times New Roman"">引导：主引导记录</span>
  </p>
  
  <h3>
    <span id="211_mbr">2.1.1 mbr<span style="font-family:新宋体;Times New Roman";Times New Roman"">在哪里</span></span>
  </h3>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">磁盘的</span><span style="background:lime;"></span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">磁头</span><span style="background:lime;"> 0</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">磁道</span><span style="background:lime;"> 1</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">扇区</span> <span style="font-family: 新宋体;Times New Roman";Times New Roman"; background:lime;">前</span><span style="background: lime;">446</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">字节</span>
  </p>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">一个扇区的大小为</span><span style="background:yellow;">512</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">字节</span>
  </p></p> 
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:aqua;">前</span><span style="background:aqua;">446</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:aqua;">字节</span><span style="background:aqua;"> &nbsp;&nbsp;&nbsp;mbr</span>
  </p>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">中间</span><span style="background:lime;">64</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">字节</span><span style="background:lime;">&nbsp; &nbsp;</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">分区表</span>
  </p>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">最后</span><span style="background:yellow;">2</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">字节</span><span style="background:yellow;">&nbsp;&nbsp; &nbsp;</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">分区结束表示</span><span style="background:yellow;">55AA</span>
  </p>
  
  <h3>
    <span id="212">2.1.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">分区表</span></span>
  </h3>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">在分区表的</span>64<span style="font-family:新宋体;Times New Roman";Times New Roman"">字节里，划分为</span>4<span style="font-family:新宋体;Times New Roman";Times New Roman"">个格子</span> 16*4
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">每个格子里存放的是分区的信息</span>(<span style="font-family:新宋体;Times New Roman";Times New Roman"">主分区</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">扩展分区</span>)
  </p>
  
  <h3>
    <span id="213">2.1.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">如何查看磁盘第一个扇区里的内容</span></span>
  </h3>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">拿出出来前</span>512<span style="font-family:新宋体;Times New Roman";Times New Roman"">个字节</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">dd if=/dev/sda of=/tmp/512.bin bs=512 count=1</span>
    </p>
    
    <p>
      1+0 records in
    </p>
    
    <p>
      1+0 records out
    </p>
    
    <p>
      512 bytes (512 B) copied, 0.000190527 s, 2.7 MB/s
    </p></p>
  </div>
  
  <p>
    <strong><span style="font-family:新宋体;Times New Roman";Times New Roman"">看下文件的类型</span></strong>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# file /tmp/512.bin
    </p>
    
    <p>
      /tmp/512.bin: x86 boot sector<span style="background:lime;">; GRand Unified Bootloader, stage1 version 0x3, boot drive 0x80, 1st sector stage2 0x6280, GRUB version 0.94; partition 1: ID=0x83, active, starthead 32, startsector 2048, 409600 sectors; partition 2: ID=0x82, starthead 159, startsector 411648, 1572864 sectors; partition 3: ID=0x83, starthead 135, startsector 1984512, 18987008 sectors, code offset 0x48</span>
    </p></p>
  </div>
  
  <h3>
    <span id="214">2.1.4 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">如何查看二进制文件的内容</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    od<span style="font-family:新宋体;Times New Roman";Times New Roman"">命令查看二进制文件的内容</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# &nbsp; <span style="background:lime;">od -xa /tmp/512.bin</span>
    </p>
    
    <p>
      <span style="font-family:新宋体;">&#8230;&#8230;</span>
    </p>
    
    <p>
      0000760&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; 0000&nbsp;&nbsp;&nbsp; <span style="background: yellow;">aa55</span>&nbsp;&nbsp; <em><span style="font-family: 新宋体;background:yellow;">结束标识符</span></em>
    </p>
    
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nul nul nul nul nul nul nul nul nul nul nul nul nul nul&nbsp;&nbsp; U&nbsp;&nbsp; *
    </p>
    
    <p>
      0001000
    </p></p>
  </div>
  
  <h2>
    <span id="22">2.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">主分区、扩展分区、逻辑分区的关系</span></span>
  </h2>
  
  <h3>
    <span id="221">2.2.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">主分区</span></span>
  </h3>
  
  <p style="text-indent:21.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"; background:yellow;">最多有</span><span style="background:yellow;">4</span><span style="font-family: 新宋体;Times New Roman";Times New Roman"; background:yellow;">个主分区</span>
  </p>
  
  <h3>
    <span id="222">2.2.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">扩展分区</span></span>
  </h3>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">没有办法直接使用</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">，需要划分成逻辑分区才可以使用。</span>
  </p>
  
  <h3>
    <span id="223">2.2.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">逻辑分区</span></span>
  </h3>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">必须要在扩展分区下面划分逻辑分区才可以使用。</span>
  </p>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">逻辑分区</span>
  </p>
  
  <p>
    sas/sata/scsi/ <span style="font-family:新宋体;Times New Roman";Times New Roman"">中为</span> sda&nbsp; 5-15
  </p>
  
  <h2>
    <span id="23">2.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">在系统中磁盘分区的命名</span></span>
  </h2>
  
  <p style="text-indent:18.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">磁盘设备都放在</span>/dev/<span style="font-family:新宋体;Times New Roman";Times New Roman"">目录下</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p style="text-indent: 21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
      sas/sata/scsi/<span style="font-family:新宋体;">接口</span>&nbsp; &nbsp;&nbsp;&nbsp;sd <span style="font-family:新宋体;">开头</span>
    </p>
    
    <p style="text-indent: 21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
      ide <span style="font-family: 新宋体;">接口</span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hd<span style="font-family:新宋体;">开头</span>
    </p></p>
  </div>
  
  <h3>
    <span id="231">2.3.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">磁盘名称示例</span></span>
  </h3>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第一块硬盘</span> sda
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第二块硬盘</span> sdb
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第三块硬盘</span> sdc
  </p>
  
  <h3>
    <span id="232_sda">2.3.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第一块硬盘</span> sda</span>
  </h3>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"; background:aqua;">主分区</span><span style="background:aqua;"> 1-4</span>
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"; background:aqua;">扩展分区</span><span style="background:aqua;"> 1-4 </span><span style="font-family: 新宋体;Times New Roman";Times New Roman"; background:aqua;">一般为</span><span style="background:aqua;">4</span>
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"; background:aqua;">逻辑分区</span> <span style="font-family:新宋体;Times New Roman";Times New Roman";background:aqua;">从</span><span style="background:aqua;">5+</span><span style="font-family:新宋体;Times New Roman";Times New Roman";background:aqua;">开始</span>
  </p>
  
  <h3>
    <span id="233">2.3.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">分区的命名规则</span></span>
  </h3>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第一块硬盘的第一个主分区：</span><span style="background:lime;">sda1</span>
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第一块硬盘的第一个逻辑分区：</span>sda5
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">第二块硬盘的第二个逻辑分区：</span>sdb6
  </p>
  
  <h2>
    <span id="24">2.4 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">回顾分区方式</span></span>
  </h2>
  
  <h3>
    <span id="241">2.4.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">没有重要数据</span></span>
  </h3>
  
  <p style="margin-left:24.0pt;">
    /boot&nbsp;&nbsp; 200M&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">存放系统的引导信息</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">内核</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    swap&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">交换分区</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">防止内存用光了</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">临时的一个内存</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存小于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">是内存的</span>1.5<span style="font-family:新宋体;Times New Roman";Times New Roman"">倍</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存大于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">给</span>8G
  </p>
  
  <p style="margin-left:24.0pt;">
    <span style="background:lime;">/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"; background:lime;">根分区</span> <span style="font-family:新宋体;Times New Roman";Times New Roman";background:lime;">剩余多少给多少</span>
  </p>
  
  <h3>
    <span id="242">2.4.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">很多重要数据</span></span>
  </h3>
  
  <p style="margin-left:24.0pt;">
    /boot&nbsp;&nbsp; 200M&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">存放系统的引导信息</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">内核</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    swap&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">交换分区</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">防止内存用光了</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">临时的一个内存</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存小于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">是内存的</span>1.5<span style="font-family:新宋体;Times New Roman";Times New Roman"">倍</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存大于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">给</span>8G
  </p>
  
  <p style="margin-left:24.0pt;">
    <span style="background:lime;">/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"; background:lime;">根分区</span><span style="background:lime;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 20G-200G</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    <span style="background:yellow;">/data&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"; background:yellow;">存放重要的数据</span> <span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">剩余多少给多少</span>
  </p>
  
  <h3>
    <span id="243">2.4.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">不知道数据是否重要</span></span>
  </h3>
  
  <p style="margin-left:24.0pt;">
    /boot&nbsp;&nbsp; 200M&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">存放系统的引导信息</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">内核</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    swap&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">交换分区</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">防止内存用光了</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">临时的一个内存</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存小于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">是内存的</span>1.5<span style="font-family:新宋体;Times New Roman";Times New Roman"">倍</span>&nbsp;&nbsp; <span style="font-family:新宋体;Times New Roman";Times New Roman"">如果你的内存大于</span>8G swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">给</span>8G
  </p>
  
  <p style="margin-left:24.0pt;">
    <span style="background:lime;">/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"; background:lime;">根分区</span><span style="background:lime;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;20G-200G</span>
  </p>
  
  <p style="margin-left:24.0pt;">
    <span style="font-family:新宋体;Times New Roman";Times New Roman";background:yellow;">剩余空间不分</span> <span style="font-family: 新宋体;Times New Roman";Times New Roman"; background:yellow;">放着谁使用这台服务器谁来分区</span>
  </p>
  
  <h2>
    <span id="25_ps">2.5 ps <span style="font-family:新宋体;Times New Roman";Times New Roman"">命令内容详解</span>--<span style="font-family:新宋体;Times New Roman";Times New Roman"">每列的含义</span></span>
  </h2>
  
  <h3>
    <span id="251_ps_aux_vszrss">2.5.1 ps aux <span style="font-family:新宋体;Times New Roman";Times New Roman"">中的</span><span style="background:aqua;">vsz</span><span style="font-family:新宋体;Times New Roman";Times New Roman"">与</span><span style="background:aqua;">rss</span> </span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix shm]# ps aux
    </p>
    
    <p>
      <span style="background:lime;">USER</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="background: aqua;">&nbsp;&nbsp;&nbsp;PID</span> <span style="background:yellow;">%CPU</span> <span style="background:fuchsia;">%MEM&nbsp; </span>&nbsp;&nbsp;VSZ&nbsp;&nbsp; RSS TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; STAT START&nbsp;&nbsp; TIME COMMAND
    </p>
    
    <p>
      <span style="background:lime;">root</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="background: aqua;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</span> <span style="background:yellow;">&nbsp;0.0</span> <span style="background:fuchsia;">&nbsp;0.2&nbsp; </span>19352&nbsp; 1300 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ss&nbsp;&nbsp; Sep14&nbsp;&nbsp; 0:01 /sbin/ini
    </p>
    
    <p>
      <span style="font-family:新宋体;background:lime;">用户</span>&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;background:aqua;">进程号</span> <span style="background:yellow;">&nbsp;CPU</span> &nbsp;<span style="font-family:新宋体;background:fuchsia;">内存</span> &nbsp;&nbsp;
    </p></p>
  </div>
  
  <p style="text-indent:12.05pt;">
    <strong><span style="font-family:"Segoe UI Emoji",sans-serif;Times New Roman";Times New Roman";Segoe UI Emoji"">⚠</span>VSZ</strong> <span style="font-family: 新宋体;Times New Roman";Times New Roman"">进程所占用的虚拟内存的大小（物理内存</span>+swap<span style="font-family:新宋体;Times New Roman";Times New Roman"">）</span>
  </p>
  
  <p style="text-indent:12.05pt;">
    <strong><span style="font-family:"Segoe UI Emoji",sans-serif;Times New Roman";Times New Roman";Segoe UI Emoji"">⚠</span>RSS </strong><span style="font-family:新宋体;Times New Roman";Times New Roman"">进程所占用的内存（物理内存）</span>&nbsp;
  </p>
  
  <h3>
    <span id="252_ps_-ef">2.5.2 ps -ef <span style="font-family:新宋体;Times New Roman";Times New Roman"">列含义系简介</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix shm]# ps -ef
    </p>
    
    <p>
      UID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID&nbsp;&nbsp; PPID&nbsp;&nbsp;&nbsp; C STIME TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME &nbsp;&nbsp;CMD
    </p>
    
    <p>
      root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0 Sep14 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00:00:01&nbsp; &nbsp;/sbin/init
    </p>
    
    <p>
      <span style="font-family:新宋体;">用户名</span>&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;">进程号</span>&nbsp;<span style="font-family:新宋体;">子进程号</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span style="font-family:新宋体;">运行了什么命令</span>&nbsp;
    </p></p>
  </div>
  
  <h1>
    <span id="3">第3章 <span style="font-family:新宋体;Times New Roman";Times New Roman"">磁盘分区</span></span>
  </h1>
  
  <h2>
    <span id="31_linux">3.1 linux<span style="font-family:新宋体;Times New Roman";Times New Roman"">里面的分区工具</span></span>
  </h2>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="background:aqua;">fdisk&nbsp;&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"">主要是给磁盘小于</span>2T<span style="font-family:新宋体;Times New Roman";Times New Roman"">（只能出来分区表是</span>mbr<span style="font-family:新宋体;Times New Roman";Times New Roman"">的）</span>
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="background:aqua;">parted&nbsp; </span><span style="font-family:新宋体;Times New Roman";Times New Roman"">主要是给磁盘大于</span>2T<span style="font-family:新宋体;Times New Roman";Times New Roman"">（</span>gpt<span style="font-family:新宋体;Times New Roman";Times New Roman"">）</span>
  </p>
  
  <h2>
    <span id="32_fdisk10M40M">3.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">通过</span>fdisk<span style="font-family:新宋体;Times New Roman";Times New Roman"">给磁盘进行分区（创建一个</span>10M<span style="font-family:新宋体;Times New Roman";Times New Roman"">主分区和一个</span>40M<span style="font-family:新宋体;Times New Roman";Times New Roman"">逻辑分区）</span></span>
  </h2>
  
  <h3>
    <span id="321_fdisk">3.2.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">使用</span>fdisk<span style="font-family:新宋体;Times New Roman";Times New Roman"">会提示一个错误</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">fdisk /dev/sdb</span>
    </p>
    
    <p>
      Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
    </p>
    
    <p>
      Building a new DOS disklabel with disk identifier 0x31dcd35a.
    </p>
    
    <p>
      Changes will remain in memory only, until you decide to write them.
    </p>
    
    <p>
      After that, of course, the previous content won't be recoverable.
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)
    </p>
    
    <p>
      <span style="font-family:新宋体;color:red">警告</span> <span style="font-family: 新宋体;">：</span> <span style="font-family:新宋体;color:red">可以关闭</span><span style="color:red">dos</span><span style="font-family:新宋体;color:red">的兼容模式，使用扇区作为分区的默认单位</span><span style="color:red">&nbsp; -cu </span><span style="font-family:新宋体; color:red">&#8595;</span>
    </p>
    
    <p>
      <span style="color:red">WARNING:</span> DOS-compatible mode is deprecated. It's strongly recommended to
    </p>
    
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; switch off the mode (command 'c') and change display units to
    </p>
    
    <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sectors (command 'u').
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Command (m for help):
    </p></p>
  </div>
  
  <h3>
    <span id="322_fdisk_-cu">3.2.2 fdisk<span style="font-family:新宋体;Times New Roman";Times New Roman"">添加上了</span> -cu <span style="font-family:新宋体;Times New Roman";Times New Roman"">参数</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    -cu <span style="font-family:新宋体;Times New Roman";Times New Roman"">参数是在分区的时候，能够以扇区的方式进行。</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">fdisk -cu /dev/sdb</span>
    </p>
    
    <p>
      Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
    </p>
    
    <p>
      Building a new DOS disklabel with disk identifier 0xb9f506a4.
    </p>
    
    <p>
      Changes will remain in memory only, until you decide to write them.
    </p>
    
    <p>
      After that, of course, the previous content won't be recoverable.
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Command (m for help):
    </p></p>
  </div>
  
  <h3>
    <span id="323_fdisk">3.2.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">查看</span>fdisk<span style="font-family:新宋体;Times New Roman";Times New Roman"">的帮助信息</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">m</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    
    <p>
      Command action
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; d&nbsp;&nbsp; delete a partition&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><em><span style="font-family:新宋体;">删除一个分区</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; m&nbsp;&nbsp; print this menu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><em><span style="font-family:新宋体;">显示帮助菜单</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; n&nbsp;&nbsp; add a new partition&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><em><span style="font-family:新宋体;">创建一个分区</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; p&nbsp;&nbsp; print the partition table&nbsp;&nbsp;&nbsp;&nbsp; <strong><em><span style="font-family:新宋体;">显示分区表</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; q&nbsp;&nbsp; quit without saving changes&nbsp;&nbsp; <strong><em><span style="font-family:新宋体;">退出不保存</span> </em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; w&nbsp;&nbsp; write table to disk and exit&nbsp; <strong><em><span style="font-family:新宋体;">保存并退出</span></em></strong>
    </p></p>
  </div>
  
  <h3>
    <span id="324">3.2.4 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">创建一个主分区</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">n</span>
    </p>
    
    <p>
      Command action&nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; e&nbsp;&nbsp; extended&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;">扩展分区</span>
    </p>
    
    <p>
      &nbsp;&nbsp; p&nbsp;&nbsp; primary partition (1-4)&nbsp; <span style="font-family:新宋体;">主分区</span>
    </p>
    
    <p>
      <span style="background:lime;">p</span>
    </p>
    
    <p>
      Partition number (1-4): <span style="background: lime;">1</span>&nbsp; <strong><em>&nbsp;&nbsp;</em></strong><strong><em><span style="font-family:新宋体;">第一个分区</span></em></strong>
    </p>
    
    <p>
      First sector (2048-208895, default 2048): <strong><em><span style="font-family:新宋体;">直接回车为默认</span></em></strong>
    </p>
    
    <p>
      Using default value 2048&nbsp; <strong><em><span style="font-family:新宋体;">默认选择第一个扇区</span></em></strong>
    </p>
    
    <p>
      Last sector, +sectors or +size{K,M,G} (2048-208895, default 208895): <span style="background:lime;">+10M</span>
    </p></p>
  </div>
  
  <h3>
    <span id="325">3.2.5 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">显示一下分出来的分区</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">p</span>
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Disk /dev/sdb: 106 MB, 106954752 bytes
    </p>
    
    <p>
      64 heads, 32 sectors/track, 102 cylinders, total 208896 sectors
    </p>
    
    <p>
      Units = sectors of 1 * 512 = 512 bytes
    </p>
    
    <p>
      Sector size (logical/physical): 512 bytes / 512 bytes
    </p>
    
    <p>
      I/O size (minimum/optimal): 512 bytes / 512 bytes
    </p>
    
    <p>
      Disk identifier: 0xb9f506a4
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2048&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 22527&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10240&nbsp;&nbsp; 83</span>
    </p></p>
  </div>
  
  <h3>
    <span id="326">3.2.6 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">创建一个扩展分区</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">扩展分区的分区原则是：<span style="background:yellow;">剩多少给多少</span></span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">n</span>
    </p>
    
    <p>
      Command action
    </p>
    
    <p>
      &nbsp;&nbsp; e&nbsp;&nbsp; extended&nbsp; <strong><em><span style="font-family:新宋体;">扩展分区</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; p&nbsp;&nbsp; primary partition (1-4)
    </p>
    
    <p>
      <span style="background:lime;">e</span>
    </p>
    
    <p>
      Partition number (1-4): <span style="background: lime;">2</span>
    </p>
    
    <p>
      First sector (22528-208895, default 22528):
    </p>
    
    <p>
      Using default value 22528
    </p>
    
    <p>
      Last sector, +sectors or +size{K,M,G} (22528-208895, default 208895):
    </p>
    
    <p>
      Using default value 208895
    </p></p>
  </div>
  
  <h3>
    <span id="327">3.2.7 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">显示现在的分区表信息</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">p</span>
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Disk /dev/sdb: 106 MB, 106954752 bytes
    </p>
    
    <p>
      64 heads, 32 sectors/track, 102 cylinders, total 208896 sectors
    </p>
    
    <p>
      Units = sectors of 1 * 512 = 512 bytes
    </p>
    
    <p>
      Sector size (logical/physical): 512 bytes / 512 bytes
    </p>
    
    <p>
      I/O size (minimum/optimal): 512 bytes / 512 bytes
    </p>
    
    <p>
      Disk identifier: 0xb9f506a4
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2048&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 22527&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10240&nbsp;&nbsp; 83&nbsp; Linux</span>
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 22528&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 208895&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 93184&nbsp;&nbsp;&nbsp; 5&nbsp; </span><span style="background:yellow;">Extended</span>
    </p></p>
  </div>
  
  <h3>
    <span id="328">3.2.8 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">在拓展分区下创建逻辑分区</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">n</span>
    </p>
    
    <p>
      Command action
    </p>
    
    <p>
      &nbsp;&nbsp; l&nbsp;&nbsp; logical (5 or over)&nbsp; <strong><em><span style="font-family:新宋体;">逻辑分区，创建完扩展分区后只能创建逻辑分区</span></em></strong>
    </p>
    
    <p>
      &nbsp;&nbsp; p&nbsp;&nbsp; primary partition (1-4)
    </p>
    
    <p>
      <span style="background:lime;">l</span>
    </p>
    
    <p>
      First sector (24576-208895, default 24576):
    </p>
    
    <p>
      Using default value 24576
    </p>
    
    <p>
      Last sector, +sectors or +size{K,M,G} (24576-208895, default 208895): <span style="background:lime;">+40M</span>
    </p></p>
  </div>
  
  <h3>
    <span id="329">3.2.9 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">显示一下当前的分区表</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">p</span>
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Disk /dev/sdb: 106 MB, 106954752 bytes
    </p>
    
    <p>
      64 heads, 32 sectors/track, 102 cylinders, total 208896 sectors
    </p>
    
    <p>
      Units = sectors of 1 * 512 = 512 bytes
    </p>
    
    <p>
      Sector size (logical/physical): 512 bytes / 512 bytes
    </p>
    
    <p>
      I/O size (minimum/optimal): 512 bytes / 512 bytes
    </p>
    
    <p>
      Disk identifier: 0xb9f506a4
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2048&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 22527&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10240&nbsp;&nbsp; 83&nbsp; Linux</span>
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 22528&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 208895&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 93184&nbsp;&nbsp;&nbsp; 5&nbsp; </span><span style="background:yellow;">Extended</span>
    </p>
    
    <p>
      <span style="background:lime;">/dev/</span><span style="background:yellow;">sdb5 </span><span style="background:lime;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24576&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 106495 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40960&nbsp;&nbsp; 83&nbsp; </span><span style="background:yellow;">Linux</span>
    </p></p>
  </div>
  
  <h3>
    <span id="3210">3.2.10 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">保存并退出</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    fdisk <span style="font-family:新宋体;Times New Roman";Times New Roman"">必须保存以后才能生效，</span>w<span style="font-family:新宋体;Times New Roman";Times New Roman"">为保存并退出</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help)<span style="background:lime;">: w</span>
    </p>
    
    <p>
      The partition table has been altered!
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Calling ioctl() to re-read partition table.
    </p>
    
    <p>
      Syncing disks.
    </p></p>
  </div>
  
  <h2>
    <span id="33_sdb_100m_mnt">3.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">【示例】添加一块硬盘</span>sdb 100m<span style="font-family:新宋体;Times New Roman";Times New Roman"">划分一个分区</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">，挂载到</span>/mnt<span style="font-family:新宋体;Times New Roman";Times New Roman"">目录</span></span>
  </h2>
  
  <h3>
    <span id="331">3.3.1 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第一步</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">创建一个主分区</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">fdisk -cu /dev/sdb</span>
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Command (m for help): <span style="background: lime;">n</span>&nbsp;&nbsp;
    </p>
    
    <p>
      Command action
    </p>
    
    <p>
      &nbsp;&nbsp; e&nbsp;&nbsp; extended
    </p>
    
    <p>
      &nbsp;&nbsp; p&nbsp;&nbsp; primary partition (1-4)
    </p>
    
    <p>
      <span style="background:lime;">p</span>
    </p>
    
    <p>
      Partition number (1-4): <span style="background: lime;">1</span>
    </p>
    
    <p>
      First sector (2048-208895, default 2048):
    </p>
    
    <p>
      Using default value 2048
    </p>
    
    <p>
      Last sector, +sectors or +size{K,M,G} (2048-208895, default 208895):
    </p>
    
    <p>
      Using default value 208895
    </p>
    
    <p>
      <span style="font-family:新宋体;background:lime;">都选择默认就是使用整块盘的空间创建一个分区</span>
    </p></p>
  </div>
  
  <h3>
    <span id="332">3.3.2 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">显示当前的分区表</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help): <span style="background: lime;">p</span>
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Disk /dev/sdb: 106 MB, 106954752 bytes
    </p>
    
    <p>
      64 heads, 32 sectors/track, 102 cylinders, total 208896 sectors
    </p>
    
    <p>
      Units = sectors of 1 * 512 = 512 bytes
    </p>
    
    <p>
      Sector size (logical/physical): 512 bytes / 512 bytes
    </p>
    
    <p>
      I/O size (minimum/optimal): 512 bytes / 512 bytes
    </p>
    
    <p>
      Disk identifier: 0xb9f506a4
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      &nbsp;&nbsp; Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System
    </p>
    
    <p>
      <span style="background:lime;">/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2048&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 208895&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 103424&nbsp;&nbsp; 83&nbsp; Linux</span>
    </p></p>
  </div>
  
  <h3>
    <span id="333">3.3.3 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">保存并退出</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    fdisk <span style="font-family:新宋体;Times New Roman";Times New Roman"">必须保存以后才能生效，</span>w<span style="font-family:新宋体;Times New Roman";Times New Roman"">为保存并退出</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      Command (m for help)<span style="background:lime;">: w</span>
    </p>
    
    <p>
      The partition table has been altered!
    </p>
    
    <p>
      &nbsp;
    </p>
    
    <p>
      Calling ioctl() to re-read partition table.
    </p>
    
    <p>
      Syncing disks.
    </p></p>
  </div>
  
  <h3>
    <span id="334">3.3.4 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第二步</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">格式化创建文件系统</span></span>
  </h3>
  
  <p style="margin-left:21.0pt">
    mkfs ==make filesystem<span style="font-family:新宋体;Times New Roman";Times New Roman"">即创建文件系统。</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 0cm;background:#F2F2F2;">
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      [root@znix ~]# <span style="background:lime;">mkfs.ext4 /dev/sdb1</span>
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      mke2fs 1.41.12 (17-May-2010)
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Filesystem label=
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      OS type: Linux
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Block size=1024 (log=0)&nbsp; <strong><em>#block</em></strong><strong><em><span style="font-family:新宋体;">的大小</span></em></strong>
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Fragment size=1024 (log=0)
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Stride=0 blocks, Stripe width=0 blocks
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      25896 <span style="background:yellow;">inodes, 103424 <span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">blocks</span>&nbsp;&nbsp; <strong><em>#inode</em></strong></span><strong><em><span style="font-family:新宋体;">与</span>block</em></strong><strong><em><span style="font-family:新宋体;">的数量</span></em></strong>
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      5171 blocks (5.00%) reserved for the super user
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      First data block=1
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Maximum filesystem blocks=67371008
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      13 block groups
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      8192 blocks per group, 8192 fragments per group
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      1992 inodes per group
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Superblock backups stored on blocks:
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      &nbsp;&nbsp;&nbsp; 8193, 24577, 40961, 57345, 73729
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      &nbsp;
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Writing inode tables: done&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Creating journal (4096 blocks): done
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      Writing superblocks and filesystem accounting information: done
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      &nbsp;
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      <span style="background: darkgray;">This filesystem will be automatically checked every 30 mounts or</span>
    </p>
    
    <p style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; border: none; padding: 0cm;">
      <span style="background: darkgray;">180 days, whichever comes first.&nbsp; Use tune2fs -c or -i to override.</span>
    </p></p>
  </div>
  
  <h3>
    <span id="335">3.3.5 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第三步</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">关闭分区的自我检查</span></span>
  </h3>
  
  <p style="margin-left:36.0pt">
    <span style="background:lime;">tune2fs</span>&nbsp;<span style="font-family:新宋体;Times New Roman";Times New Roman"; background:lime;">命令</span>
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="background:lime;">-c</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">挂载多少次</span> 0 <span style="font-family:新宋体;Times New Roman";Times New Roman"">为关闭</span>
  </p>
  
  <p style="margin-left:36.0pt;">
    <span style="background:lime;">-i</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">隔多长时间</span> 0 <span style="font-family:新宋体;Times New Roman";Times New Roman"">为关闭</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">tune2fs -c 0 -i 0 /dev/sdb1</span>
    </p>
    
    <p>
      tune2fs 1.41.12 (17-May-2010)
    </p>
    
    <p>
      Setting maximal mount count to -1
    </p>
    
    <p>
      Setting interval between checks to 0 seconds
    </p></p>
  </div>
  
  <h3>
    <span id="336">3.3.6 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第四步</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">挂载磁盘</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# mount /dev/sdb1 /mnt/
    </p>
    
    <p>
      [root@znix ~]# df -h
    </p>
    
    <p>
      Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size&nbsp; Used Avail Use% Mounted on
    </p>
    
    <p>
      /dev/sda3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8.8G&nbsp; 1.9G&nbsp; 6.5G&nbsp; 23% /
    </p>
    
    <p>
      tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 238M&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 238M&nbsp;&nbsp; 0% /dev/shm
    </p>
    
    <p>
      /dev/sda1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 190M&nbsp;&nbsp; 40M&nbsp; 141M&nbsp; 22% /boot
    </p>
    
    <p>
      /dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 94M&nbsp; 1.6M&nbsp;&nbsp; 88M&nbsp;&nbsp; 2% /mnt
    </p></p>
  </div>
  
  <h3>
    <span id="337">3.3.7 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">第五步</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">让磁盘永久挂载</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">开机自动挂载</span></span>
  </h3>
  
  <p>
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">两个文件可以实现：</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      &nbsp;&nbsp;&nbsp; /etc/rc.local
    </p>
    
    <p>
      &nbsp;&nbsp;&nbsp; /etc/fstab
    </p></p>
  </div>
  
  <p style="text-indent:21.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">在</span>/etc/rc.local<span style="font-family:新宋体;Times New Roman";Times New Roman"">文件中，写入什么命令都可以执行。</span>
  </p>
  
  <h3>
    <span id="338_etcfstab">3.3.8 /etc/fstab <span style="font-family: 新宋体;Times New Roman";Times New Roman"">文件的内容</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">cat /etc/fstab</span>
    </p>
    
    <p>
      #
    </p>
    
    <p>
      # <span style="background:lime;">/etc/fstab</span>
    </p>
    
    <p>
      # Created by anaconda on Thu Aug 10 18:33:48 2017
    </p>
    
    <p>
      #
    </p>
    
    <p>
      # Accessible filesystems, by reference, are maintained under '/dev/disk'
    </p>
    
    <p>
      # See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
    </p>
    
    <p>
      #
    </p>
    
    <p>
      UUID=49bad9e9-cf33-4a15-ba84-4fd28e70bd29 /&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ext4&nbsp;&nbsp;&nbsp; defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 1
    </p>
    
    <p>
      UUID=7426d0f3-56d6-4fa6-a1c3-f2c8632bfbb8 /boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ext4&nbsp;&nbsp;&nbsp; defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 2
    </p>
    
    <p>
      UUID=46bc0a52-b13f-4845-8baa-90207849d5c5 swap&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; swap&nbsp;&nbsp;&nbsp; defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0
    </p>
    
    <p>
      tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/shm&nbsp;&nbsp;&nbsp; tmpfs&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0
    </p>
    
    <p>
      devpts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /dev/pts&nbsp;&nbsp;&nbsp; devpts&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;gid=5,mode=620&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0
    </p>
    
    <p>
      sysfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /sys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sysfs&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0
    </p>
    
    <p>
      proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /proc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; proc&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0
    </p>
    
    <p>
      <span style="font-family:新宋体;background:lime;">磁盘分区设备</span>&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体;background:lime;">挂载点</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family:新宋体; background:lime;">文件系统的类型</span>&nbsp;&nbsp; <span style="font-family:新宋体;background:lime;">挂载参数</span>&nbsp;&nbsp; <span style="font-family:新宋体; background:lime;">是否进行</span><span style="background:lime;">dump</span><span style="font-family: 新宋体;background:lime;">备份</span>&nbsp;<span style="font-family:新宋体;background:lime;">是否进行</span><span style="background:lime;">fsk</span><span style="font-family: 新宋体;background:lime;">磁盘检查</span>
    </p></p>
  </div>
  
  <h3>
    <span id="339">3.3.9 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">将挂载信息写入配置文件</span></span>
  </h3>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">tail -1 /etc/fstab</span>
    </p>
    
    <p>
      /dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /mnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ext4&nbsp;&nbsp;&nbsp; defaults&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 0
    </p></p>
  </div>
  
  <h3>
    <span id="3310_uuid">3.3.10 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">显示系统中的</span>uuid</span>
  </h3>
  
  <p style="margin-left:21.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">使用</span><span style="background:yellow;">blkid</span> <span style="font-family:新宋体;Times New Roman";Times New Roman"">命令可以查看系统磁盘的</span>uuid
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# <span style="background: lime;">blkid</span>
    </p>
    
    <p>
      /dev/sda3: UUID="49bad9e9-cf33-4a15-ba84-4fd28e70bd29" TYPE="ext4"
    </p>
    
    <p>
      /dev/sda1: UUID="7426d0f3-56d6-4fa6-a1c3-f2c8632bfbb8" TYPE="ext4"
    </p>
    
    <p>
      /dev/sda2: UUID="46bc0a52-b13f-4845-8baa-90207849d5c5" TYPE="swap"
    </p>
    
    <p>
      /dev/sdb1: UUID="7101630b-b325-49d1-92b9-0a500c2a07f6" TYPE="ext4"
    </p></p>
  </div>
  
  <h2>
    <span id="34">3.4 <span style="font-family: 新宋体;Times New Roman";Times New Roman"">在挂载磁盘的时候出现未格式化错误</span></span>
  </h2>
  
  <p style="margin-left:18.0pt">
    <span style="font-family:新宋体;Times New Roman";Times New Roman"">对磁盘进行一些操作的时候可能会提示没有格式化磁盘，需要格式化。</span>
  </p>
  
  <div style="border:solid windowtext 2.0pt; padding:1.0pt 4.0pt 1.0pt 4.0pt;background:#F2F2F2;">
    <p>
      [root@znix ~]# tune2fs -c0 -i0 /dev/sdc
    </p>
    
    <p>
      tune2fs 1.41.12 (17-May-2010)
    </p>
    
    <p>
      tune2fs: Bad magic number in super-block while trying to open /dev/sdc
    </p>
    
    <p>
      <span style="background:lime;">Couldn't find valid <span style="color:yellow">filesystem</span> superblock.</span>
    </p>
    
    <p>
      <span style="font-family:新宋体;color:#00B050">没有找到可用的文件系统</span>
    </p>
  </div>
</div>

<div id="toc_container" class="toc_white have_bullets">
  <ul class="toc_list">
    <li>
      <a href="#1_RAID">第1章 RAID 磁盘阵列</a><ul>
        <li>
          <a href="#11_raid">1.1 使用raid的目的</a>
        </li>
        <li>
          <a href="#12_raid0raid1raid5raid10">1.2 raid0、raid1、raid5、raid10对比</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#2">第2章 磁盘分区</a><ul>
        <li>
          <a href="#21_mbr">2.1 mbr是什么</a><ul>
            <li>
              <a href="#211_mbr">2.1.1 mbr在哪里</a>
            </li>
            <li>
              <a href="#212">2.1.2 分区表</a>
            </li>
            <li>
              <a href="#213">2.1.3 如何查看磁盘第一个扇区里的内容</a>
            </li>
            <li>
              <a href="#214">2.1.4 如何查看二进制文件的内容</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#22">2.2 主分区、扩展分区、逻辑分区的关系</a><ul>
            <li>
              <a href="#221">2.2.1 主分区</a>
            </li>
            <li>
              <a href="#222">2.2.2 扩展分区</a>
            </li>
            <li>
              <a href="#223">2.2.3 逻辑分区</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#23">2.3 在系统中磁盘分区的命名</a><ul>
            <li>
              <a href="#231">2.3.1 磁盘名称示例</a>
            </li>
            <li>
              <a href="#232_sda">2.3.2 第一块硬盘 sda</a>
            </li>
            <li>
              <a href="#233">2.3.3 分区的命名规则</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#24">2.4 回顾分区方式</a><ul>
            <li>
              <a href="#241">2.4.1 没有重要数据</a>
            </li>
            <li>
              <a href="#242">2.4.2 很多重要数据</a>
            </li>
            <li>
              <a href="#243">2.4.3 不知道数据是否重要</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#25_ps">2.5 ps 命令内容详解--每列的含义</a><ul>
            <li>
              <a href="#251_ps_aux_vszrss">2.5.1 ps aux 中的vsz与rss </a>
            </li>
            <li>
              <a href="#252_ps_-ef">2.5.2 ps -ef 列含义系简介</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#3">第3章 磁盘分区</a><ul>
        <li>
          <a href="#31_linux">3.1 linux里面的分区工具</a>
        </li>
        <li>
          <a href="#32_fdisk10M40M">3.2 通过fdisk给磁盘进行分区（创建一个10M主分区和一个40M逻辑分区）</a><ul>
            <li>
              <a href="#321_fdisk">3.2.1 使用fdisk会提示一个错误</a>
            </li>
            <li>
              <a href="#322_fdisk_-cu">3.2.2 fdisk添加上了 -cu 参数</a>
            </li>
            <li>
              <a href="#323_fdisk">3.2.3 查看fdisk的帮助信息</a>
            </li>
            <li>
              <a href="#324">3.2.4 创建一个主分区</a>
            </li>
            <li>
              <a href="#325">3.2.5 显示一下分出来的分区</a>
            </li>
            <li>
              <a href="#326">3.2.6 创建一个扩展分区</a>
            </li>
            <li>
              <a href="#327">3.2.7 显示现在的分区表信息</a>
            </li>
            <li>
              <a href="#328">3.2.8 在拓展分区下创建逻辑分区</a>
            </li>
            <li>
              <a href="#329">3.2.9 显示一下当前的分区表</a>
            </li>
            <li>
              <a href="#3210">3.2.10 保存并退出</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#33_sdb_100m_mnt">3.3 【示例】添加一块硬盘sdb 100m划分一个分区 ，挂载到/mnt目录</a><ul>
            <li>
              <a href="#331">3.3.1 第一步 创建一个主分区</a>
            </li>
            <li>
              <a href="#332">3.3.2 显示当前的分区表</a>
            </li>
            <li>
              <a href="#333">3.3.3 保存并退出</a>
            </li>
            <li>
              <a href="#334">3.3.4 第二步 格式化创建文件系统</a>
            </li>
            <li>
              <a href="#335">3.3.5 第三步 关闭分区的自我检查</a>
            </li>
            <li>
              <a href="#336">3.3.6 第四步 挂载磁盘</a>
            </li>
            <li>
              <a href="#337">3.3.7 第五步 让磁盘永久挂载 开机自动挂载</a>
            </li>
            <li>
              <a href="#338_etcfstab">3.3.8 /etc/fstab 文件的内容</a>
            </li>
            <li>
              <a href="#339">3.3.9 将挂载信息写入配置文件</a>
            </li>
            <li>
              <a href="#3310_uuid">3.3.10 显示系统中的uuid</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#34">3.4 在挂载磁盘的时候出现未格式化错误</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
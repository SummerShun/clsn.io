---
title: 定时任务的使用-crond
author: 惨绿少年
type: post
date: 2017-10-08T17:59:00+00:00
url: /clsn/lx965.html
Baidusubmit:
  - 1
views:
  - 95
zm_favorites:
  - 1
categories:
  - Linux运维
  - 运维基本功

---
# <span id="1">第1章 <span style="font-family: 新宋体;">练习题</span></span>

## <span id="11_12_varwwwhtml_data">1.1 <span style="font-family: 新宋体;">每天晚上</span> 12 <span style="font-family: 新宋体;">点，打包站点目录</span>/var/www/html <span style="font-family: 新宋体;">备份到</span>/data <span style="font-family: 新宋体;">目录下（最好每次备份按时间生成不同的备份包）</span></span>

### <span id="111">1.1.1 <span style="font-family: 新宋体;">测试命令</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# cd / && tar zcf /data/www_`date +%F`.tar.gz&nbsp; var/www/html
  </p>
</div>

### <span id="112">1.1.2 <span style="font-family: 新宋体;">写入脚本中</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix /]# cat /server/scripts/www.sh
  </p>
  
  <p>
    cd / && tar zcf /data/www_`date +%F`.tar.gz&nbsp; var/www/html
  </p>
</div>

### <span id="113">1.1.3 <span style="font-family: 新宋体;">测试脚本</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# sh /server/scripts/www.sh
  </p>
</div>

### <span id="114">1.1.4 <span style="font-family: 新宋体;">写入定时任务</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix /]# crontab -l |tail -2
  </p>
  
  <p>
    #### backup /var/www/html dir
  </p>
  
  <p>
    00 00&nbsp; * * *&nbsp; /bin/sh&nbsp; /server/scripts/www.sh >/dev/null 2>&1
  </p>
</div>

### <span id="115">1.1.5 <span style="font-family: 新宋体;">检查执行结果</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# ll /data/
  </p>
  
  <p>
    total 16
  </p>
  
  <p>
    -rw-r--r--&nbsp; 1 root root 154 Sep 11 09:44 www_2017-09-11.tar.gz
  </p>
</div>

### <span id="12_nbspnbsp_900_17_00_serverscriptclsnsh">1.2 <span style="font-family: 新宋体;">每周</span>&nbsp;<span style="font-family: 新宋体;">六、日</span>&nbsp;<span style="font-family: 新宋体;">上午</span> 9:00<span style="font-family: 新宋体;">和下午</span> 17<span style="font-family: 新宋体;">：</span> 00 上班(<span style="font-family: 新宋体;">执行程序</span>/server/script/clsn.sh<span style="font-family: 新宋体;">代替学习</span>)<span style="font-family: 新宋体;">。</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    00 9,17 * * <span style="background: yellow;">0,6&nbsp; /bin/sh /server/scripts/clsn.sh >/dev/null 2>&1</span>
  </p>
</div>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<span style="font-family: 新宋体;">表示周日</span>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6<span style="font-family: 新宋体;">表示周六</span>

## <span id="13">1.3 <span style="font-family: 新宋体;">描述下列路径的内容是做什么的。</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    /etc/sysctl.conf&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 新宋体;">系统内核的配置文件</span>
  </p>
  
  <p>
    /etc/rc.local&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 新宋体;">开机自启动</span>
  </p>
  
  <p>
    /etc/hosts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ip<span style="font-family: 新宋体;">与域名的对应关系</span> <span style="font-family: 新宋体;">，解析主机名</span>
  </p>
  
  <p>
    /etc/fstab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 新宋体;">开机自动挂载</span>
  </p>
  
  <p>
    /var/log/secure&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 新宋体;">用户登陆信息，主要查看其中的</span>Failed
  </p>
</div>

## <span id="14_grep">1.4 <span style="font-family: 新宋体;">请说出下列</span> grep <span style="font-family: 新宋体;">正则表达式的含义</span></span>

<span style="background: yellow;">^&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">以</span>...<span style="font-family: 新宋体;">开头的行</span>

<span style="background: yellow;">$&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">以</span>...<span style="font-family: 新宋体;">结尾的行</span>

<span style="background: yellow;">.(</span><span style="font-family: 新宋体; times new roman"4times new roman";background: yellow;">点号</span><span style="background: yellow;">)</span>&nbsp; &nbsp;&nbsp;<span style="font-family: 新宋体;">任意一个字符</span>

<span style="background: yellow;">\&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">在转义字符</span>&nbsp; \n \t

<span style="background: aqua;">*&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">前一个字符练习出现</span><span style="font-family: 新宋体;">次或</span>1<span style="font-family: 新宋体;">次以上</span>

<span style="background: aqua;">{n,m} </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">前一个字符连续出现</span>,<span style="font-family: 新宋体;">至少</span>n<span style="font-family: 新宋体;">次</span>,<span style="font-family: 新宋体;">最多</span>m

<span style="background: aqua;">[^t]&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">取不包含</span>t<span style="font-family: 新宋体;">的</span>

<span style="background: aqua;">^[^t]&nbsp; </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 新宋体;">以不是</span>t<span style="font-family: 新宋体;">的开头</span>

## <span id="15_nbsp">1.5 &nbsp;<span style="font-family: 新宋体;">排除文件中的空行和空格</span></span>

### <span id="151">1.5.1 <span style="font-family: 新宋体;">文件的内容</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# <span style="background: aqua;">cat</span><span style="background: lime;"> -A</span><span style="background: aqua;"> mun.txt</span>
  </p>
  
  <p>
    znix1$
  </p>
  
  <p>
    znix2$
  </p>
  
  <p>
    znix3$
  </p>
  
  <p>
    $
  </p>
  
  <p>
    znix4$
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $
  </p>
  
  <p>
    znix5$
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $
  </p>
  
  <p>
    znix6$
  </p>
</div>

### <span id="152_egrep">1.5.2 egrep<span style="font-family: 新宋体;">方法</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 新宋体;">找出空行</span>&nbsp; -v<span style="font-family: 新宋体;">参数排除</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# egrep -n "^ *$" mun.txt
  </p>
  
  <p>
    4:
  </p>
  
  <p>
    6:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </p>
  
  <p>
    8:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </p>
  
  <p>
    10:
  </p>
  
  <p>
    14:
  </p>
  
  <p>
    [root@znix ~]# egrep -n&nbsp; "^$|^ +$" mun.txt
  </p>
  
  <p>
    4:
  </p>
  
  <p>
    6:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </p>
  
  <p>
    8:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  </p>
  
  <p>
    10:
  </p>
  
  <p>
    14:
  </p>
</div>

### <span id="153_awk">1.5.3 awk<span style="font-family: 新宋体;">方法</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# awk '!/^[ ]*$/' mun.txt
  </p>
  
  <p>
    znix1
  </p>
  
  <p>
    znix2
  </p>
  
  <p>
    znix3
  </p>
  
  <p>
    znix4
  </p>
  
  <p>
    znix5
  </p>
  
  <p>
    znix6
  </p>
</div>

## <span id="16_passwdtxt">1.6 <span style="font-family: 新宋体;">把</span>passwd.txt <span style="font-family: 新宋体;">第一列取出来</span></span>

### <span id="161">1.6.1 <span style="font-family: 新宋体;">文件内容</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# cat passwd.txt
  </p>
  
  <p>
    root:x:0:0:root:/root:/bin/bash
  </p>
  
  <p>
    bin:x:1:1:bin:/bin:/sbin/nologin
  </p>
  
  <p>
    daemon:x:2:2:daemon:/sbin:/sbin/nologin
  </p>
  
  <p>
    adm:x:3:4:adm:/var/adm:/sbin/nologin
  </p>
  
  <p>
    lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
  </p>
  
  <p>
    sync:x:5:0:sync:/sbin:/bin/sync
  </p>
</div>

### <span id="162">1.6.2 <span style="font-family: 新宋体;">排除思想</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# egrep "^[^:]+" passwd.txt&nbsp; -o
  </p>
  
  <p>
    root
  </p>
  
  <p>
    bin
  </p>
  
  <p>
    <span style="font-family: 新宋体;">&hellip;&hellip;</span>
  </p>
</div>

### <span id="163_sed">1.6.3 sed<span style="font-family: 新宋体;">方法</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# sed -r 's#(<span style="background: darkcyan;">^.*)(:x.*:)(.*)#\3\2\1#g' passwd.txt </span>
  </p>
  
  <p>
    /bin/bash:x:0:0:root:/root:root
  </p>
  
  <p>
    /sbin/nologin:x:1:1:bin:/bin:bin
  </p>
  
  <p>
    <span style="font-family: 新宋体;">&hellip;&hellip;</span>
  </p>
</div>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 新宋体;">排除不是以</span> <span style="font-family: 新宋体;">：开头的行</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# sed -r 's#(<span style="background: lime;">^[^:]+)(.*:)(/.*$)#\3\2\1#' passwd.txt </span>
  </p>
  
  <p>
    /bin/bash:x:0:0:root:/root:root
  </p>
  
  <p>
    /sbin/nologin:x:1:1:bin:/bin:bin
  </p>
  
  <p>
    <span style="font-family: 新宋体;">&hellip;&hellip;</span>
  </p>
</div>

### <span id="164_awk">1.6.4 awk<span style="font-family: 新宋体;">方法</span></span>

awk<span style="font-family: 新宋体;">中的变量：</span>

<p style="margin-left: 21.0pt;">
  <span style="background: lime;">-vOFS=":"</span>
</p>

<p style="margin-left: 21.0pt;">
  <span style="background: lime;">OFS</span> <span style="font-family: 新宋体;">的内容就是</span> <span style="background: lime;">,</span> <span style="font-family: 新宋体;">的内容</span>
</p>

<p style="margin-left: 21.0pt;">
  awk<span style="font-family: 新宋体;">在显示每一列内容的时候</span>,<span style="font-family: 新宋体;">每一列之间的分隔符</span>
</p>

<p style="margin-left: 21.0pt;">
  <span style="background: lime;">-v</span> <span style="font-family: 新宋体;">修改和创建</span>awk<span style="font-family: 新宋体;">可以使用的变量</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# awk -F: -vOFS=":" '{print $NF,$2,$3,$4,$5,$6,$1}' passwd.txt
  </p>
  
  <p>
    /bin/bash:x:0:0:root:/root:root
  </p>
  
  <p>
    /sbin/nologin:x:1:1:bin:/bin:bin
  </p>
  
  <p>
    <span style="font-family: 新宋体;">&hellip;&hellip;</span>
  </p>
</div>

## <span id="17_vivim">1.7 vi/vim<span style="font-family: 新宋体;">命令、快捷键</span></span>

<table style="border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td style="width: 333.15pt; border-top: none; border-right: none; border-left: none; border-bottom: 1.5pt solid #95b3d7; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong>&nbsp;</strong><strong><span style="font-family: 新宋体;">含义</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1.5pt solid #95b3d7; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        <strong><span style="font-family: 新宋体;">命令</span></strong>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">退出保存</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        :wq
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">退出并强制保存，</span>!</strong><strong><span style="font-family: 新宋体;">为强制的意思</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        :wq!
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">强制退出，不保存</span>&nbsp;</strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        :q!
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">另存为</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        :q &nbsp;/tmp/****
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">光标移动到文件的最后一行</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        G
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">光标移动到文件的第一行</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        gg
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">光标移动到文件的</span>100</strong><strong><span style="font-family: 新宋体;">行</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        100gg 100G :100
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">从光标所在位置将光标移动到当前行的开头</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        0&nbsp; ^
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">从光标所在位置将光标移动到当前行的结尾</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        $
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">删除当前行的内容</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        dd
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">删除当前行到文件的最后一行的内容</span>&nbsp;</strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        dG
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">删除当前行到文件的第一行的内容</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        dgg
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">粘贴</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        p
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">粘贴</span>10</strong><strong><span style="font-family: 新宋体;">次</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        10p
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">复制</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        yy
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">取消上一次的动作</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        u
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">删除一行</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        dd
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong>/ </strong><strong><span style="font-family: 新宋体;">搜索内容</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        <span style="font-family: 新宋体;">继续向下搜索</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n
      </p>
      
      <p>
        <span style="font-family: 新宋体;">继续向上搜索</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; background: #DBE5F1; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">向上搜索</span>&nbsp;</strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; background: #dbe5f1; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        ?
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 333.15pt; border-top: none; border-left: none; border-bottom: solid #95B3D7 1.0pt; border-right: solid #95B3D7 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="444">
      <p>
        <strong><span style="font-family: 新宋体;">取消对找到的内容的高亮显示</span></strong>
      </p>
    </td>
    
    <td style="width: 189.65pt; border-top: none; border-right: none; border-left: none; border-bottom: 1pt solid #95b3d7; padding: 0cm 5.4pt;" valign="top" width="253">
      <p>
        :noh
      </p>
    </td>
  </tr>
</table>

### <span id="171_services10010">1.7.1 <span style="font-family: 新宋体;">编辑</span>services<span style="font-family: 新宋体;">定位到第</span>100<span style="font-family: 新宋体;">行把这一行复制到文件的最后一行粘贴</span>10<span style="font-family: 新宋体;">次。</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    100gg
  </p>
  
  <p>
    yy
  </p>
  
  <p>
    G
  </p>
  
  <p>
    10p
  </p>
</div>

## <span id="18_clsn_755">1.8 <span style="font-family: 新宋体;">授权</span> clsn <span style="font-family: 新宋体;">目录及其子目录</span> 755 <span style="font-family: 新宋体;">的权限。</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    chmod -R 755 clsn
  </p>
</div>

## <span id="19_clsn_clsn_root">1.9 <span style="font-family: 新宋体;">把</span> clsn <span style="font-family: 新宋体;">目录及其子目录的属主改为</span> clsn,<span style="font-family: 新宋体;">组改为</span> root<span style="font-family: 新宋体;">。</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    chown&nbsp; clsn.lodboy clsn.txt
  </p>
</div>

### <span id="191">1.9.1 <span style="font-family: 新宋体;">修改时可能发生的错误</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# id clsn
  </p>
  
  <p>
    uid=500(clsn) gid=501(incahome) groups=501(incahome)
  </p>
  
  <p>
    [root@znix ~]# chown clsn.clsn clsn-new.txt
  </p>
  
  <p>
    [root@ znix ~]# chown clsn.clsn num.txt
  </p>
  
  <p>
    <span style="background: lime;">chown: invalid user: `clsn.clsn'</span>
  </p>
</div>

<p style="text-indent: 18.0pt;">
  <span style="font-family: 新宋体;">检查</span>clsn<span style="font-family: 新宋体;">用户是否存在，检查</span>clsn<span style="font-family: 新宋体;">这个用户组是否存在</span>
</p>

## <span id="110_umask">1.10 <span style="font-family: 新宋体;">描述下</span> umask <span style="font-family: 新宋体;">的作用</span>.</span>

<p style="text-indent: 18.0pt;">
  umask<span style="font-family: 新宋体;">管理着</span>linux<span style="font-family: 新宋体;">默认的权限</span>
</p>

> 实例1-1&nbsp;当umask为021时
> 
> file&nbsp;权限为644
> 
> &nbsp;666-021+001=644
> 
> dir&nbsp;权限为&nbsp;756
> 
> &nbsp;777-021=756

## <span id="111_etcrclocal_etchosts_etcservices_backup">1.11 <span style="font-family: 新宋体;">每天打包备份</span> /etc/rc.local /etc/hosts /etc/services <span style="font-family: 新宋体;">到</span> /backup<span style="font-family: 新宋体;">目录。</span></span>

### <span id="1111">1.11.1 <span style="font-family: 新宋体;">测试命令</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    root@znix ~]# cd / && tar zcf /backup/file`date +%F`.tar.gz&nbsp; etc/rc.local&nbsp; etc/hosts etc/services
  </p>
  
  <p>
    &nbsp; oot@znix /]# ll /backup/file2017-09-11.tar.gz
  </p>
  
  <p>
    -rw-r--r-- 1 root root 127455 Sep 11 15:41 /backup/file2017-09-11.tar.gz
  </p>
</div>

### <span id="1112">1.11.2 <span style="font-family: 新宋体;">写入脚本</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix /]# cat /server/scripts/file.sh
  </p>
  
  <p>
    cd / && tar zcf /backup/file`date +%F`.tar.gz&nbsp; etc/rc.local&nbsp; etc/hosts etc/services
  </p>
</div>

### <span id="1113">1.11.3 <span style="font-family: 新宋体;">测试脚本</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix /]# sh /server/scripts/file.sh
  </p>
  
  <p>
    [root@znix /]# ll /backup/file2017-09-11.tar.gz
  </p>
  
  <p>
    -rw-r--r-- 1 root root 127455 Sep 11 15:44 /backup/file2017-09-11.t
  </p>
  
  <p>
    [root@znix /]# cat /server/scripts/file.sh
  </p>
</div>

### <span id="1114">1.11.4 <span style="font-family: 新宋体;">写入定时任务</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    ### beifen zhongyaowenjan
  </p>
  
  <p>
    00 00 * * * /bin/sh /server/scripts/file.sh >/dev/null 2>&1
  </p>
</div>

### <span id="1115">1.11.5 <span style="font-family: 新宋体;">测试定时任务</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# date -s '23:59:29'
  </p>
  
  <p>
    Mon Sep 11 23:59:29 CST 2017
  </p>
  
  <p>
    [root@znix ~]# ll /backup/file2017-09-1*
  </p>
  
  <p>
    -rw-r--r-- 1 root root 127455 Sep 11 15:44 /backup/file2017-09-11.tar.gz
  </p>
  
  <p>
    -rw-r--r-- 1 root root 127455 Sep 12&nbsp; 2017 /backup/file2017-09-12.tar.gz
  </p>
</div>

# <span id="2">第2章 <span style="font-family: 新宋体;">回顾课程</span></span>

## <span id="21">2.1 <span style="font-family: 新宋体;">定时任务</span></span>

## <span id="_2_etcservices_tmp"><span style="font-family: 新宋体;">每隔</span> 2 <span style="font-family: 新宋体;">个小时将</span>/etc/services <span style="font-family: 新宋体;">文件打包备份到</span>/tmp <span style="font-family: 新宋体;">下（最好每次备份成不同的备份包）</span></span>

### <span id="211">2.1.1 <span style="font-family: 新宋体;">测试命令</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# cd / && /bin/tar zcf /tmp/ser_`date +%F_%H`.tar.gz&nbsp; etc/services
  </p>
</div>

### <span id="212">2.1.2 <span style="font-family: 新宋体;">放入脚本中</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# cat /server/scripts/ser.sh
  </p>
  
  <p>
    cd / && /bin/tar zcf /tmp/ser_`date +%F_%H`.tar.gz&nbsp; etc/services
  </p>
</div>

### <span id="213">2.1.3 <span style="font-family: 新宋体;">测试脚本</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# sh /server/scripts/ser.sh
  </p>
</div>

### <span id="214">2.1.4 <span style="font-family: 新宋体;">写入定时任务</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# crontab -l |tail -2
  </p>
  
  <p>
    #backup /etc/services
  </p>
  
  <p>
    00 */2 * * * /bin/sh /server/scripts/bak-ser.sh >/dev/null 2>&1
  </p>
</div>

### <span id="215">2.1.5 <span style="font-family: 新宋体;">检查定时任务是否成功</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    1)<span style="font-family: 新宋体;">是否打包成功</span>,<span style="font-family: 新宋体;">看看文件里面是否有追加的信息</span>
  </p>
  
  <p>
    2)<span style="font-family: 新宋体;">查看定时任务日志</span> /var/log/cron
  </p>
</div>

## <span id="22_linux">2.2 <span style="font-family: 新宋体;">无法连接</span>linux</span>

### <span id="221">2.2.1 <span style="font-family: 新宋体;">道路是否通畅</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    ping ip<span style="font-family: 新宋体;">地址</span>
  </p>
</div>

<p style="margin-left: 0cm; text-indent: 0cm;">
  实例2-1 <span style="font-family: 新宋体;">无法</span>ping<span style="font-family: 新宋体;">通的解决办法：</span>
</p>

<p style="margin-left: 42.0pt;">
  <span style="font-family: 新宋体;">服务器的</span>ip<span style="font-family: 新宋体;">地址是否正确</span>
</p>

<p style="margin-left: 42.0pt;">
  <span style="font-family: 新宋体;">服务器网卡是否启动，即</span>ONBOOT<span style="font-family: 新宋体;">是否为</span>yes
</p>

<p style="margin-left: 42.0pt;">
  <span style="font-family: 新宋体;">系统网卡的配置</span>
</p>

<p style="margin-left: 0cm; text-indent: 0cm;">
  实例2-2 VMware<span style="font-family: 新宋体;">相关的：</span>
</p>

<p style="margin-left: 42.0pt;">
  vmware-5<span style="font-family: 新宋体;">个服务是否启动</span>
</p>

<p style="margin-left: 42.0pt;">
  vmware<span style="font-family: 新宋体;">配置</span>-<span style="font-family: 新宋体;">网卡是否连接</span>
</p>

<p style="margin-left: 42.0pt;">
  <span style="font-family: 新宋体;">查看你</span>vmware<span style="font-family: 新宋体;">网卡的</span>vmnet8 <span style="font-family: 新宋体;">是否已经启动</span>
</p>

### <span id="222">2.2.2 <span style="font-family: 新宋体;">是否有人劫财劫色</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    <span style="font-family: 新宋体;">查看</span> iptables selinux<span style="font-family: 新宋体;">是否关闭</span>
  </p>
</div>

### <span id="223">2.2.3 <span style="font-family: 新宋体;">是否有人提供服务</span></span>

<p style="margin-left: 0cm; text-indent: 0cm;">
  实例2-3 <span style="font-family: 新宋体;">看</span>22<span style="font-family: 新宋体;">端口是否开启</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    <span style="font-family: 新宋体;">方法一：</span> telnet 10.0.0.200 22
  </p>
  
  <p>
    <span style="font-family: 新宋体;">方法二：</span> ss -lntup |grep 22
  </p>
</div>

<p style="margin-left: 0cm; text-indent: 0cm;">
  实例2-4 <span style="font-family: 新宋体;">进程是否在运行</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    ps -ef |grep sshd
  </p>
</div>

## <span id="23_linux">2.3 linux<span style="font-family: 新宋体;">无法上网怎么办</span></span>

### <span id="231_ping">2.3.1 ping <span style="font-family: 新宋体;">域名</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 新宋体;">域名无法</span>ping <span style="font-family: 新宋体;">通</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# ping centos.nmtui.com
  </p>
  
  <p>
    ping: unknown host centos.nmtui.com
  </p>
</div>

### <span id="232_pingnbsp_ip">2.3.2 ping&nbsp; <span style="font-family: 新宋体;">外网</span>ip</span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 新宋体;">可以</span>ping <span style="font-family: 新宋体;">通</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# ping 123.206.66.12
  </p>
  
  <p>
    PING 123.206.66.149 (123.206.66.12) 56(84) bytes of data.
  </p>
  
  <p>
    64 bytes from 123.206.66.149: icmp_seq=1 ttl=128 time=63.1 ms
  </p>
  
  <p>
    64 bytes from 123.206.66.149: icmp_seq=2 ttl=128 time=60.5 ms
  </p>
</div>

### <span id="233_dns">2.3.3 <span style="font-family: 新宋体;">检查</span>dns<span style="font-family: 新宋体;">配置文件</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# cat /etc/resolv.conf
  </p>
</div>

### <span id="234">2.3.4 <span style="font-family: 新宋体;">修改配置文件</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 新宋体;">修改完成重启网卡，生效</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# service network restart
  </p>
  
  <p>
    Shutting down interface eth0:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]
  </p>
  
  <p>
    Shutting down loopback interface:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]
  </p>
  
  <p>
    Bringing up loopback interface:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]
  </p>
  
  <p>
    Bringing up interface eth0:&nbsp; Determining if ip address 10.0.0.201 is already in use for device eth0...
  </p>
  
  <p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [&nbsp; OK&nbsp; ]
  </p>
</div>

## <span id="24_rpm">2.4 <span style="font-family: 新宋体;">检查一个软件是否按照</span> rpm <span style="font-family: 新宋体;">相关</span></span>

### <span id="241">2.4.1 <span style="font-family: 新宋体;">查询某个软件包是否安装</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# rpm -qa tree
  </p>
  
  <p>
    tree-1.5.3-3.el6.x86_64
  </p>
</div>

### <span id="242">2.4.2 <span style="font-family: 新宋体;">查询软件包里面的内容</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# rpm -ql tree
  </p>
  
  <p>
    /usr/bin/tree
  </p>
  
  <p>
    /usr/share/doc/tree-1.5.3
  </p>
  
  <p>
    /usr/share/doc/tree-1.5.3/LICENSE
  </p>
  
  <p>
    /usr/share/doc/tree-1.5.3/README
  </p>
  
  <p>
    /usr/share/man/man1/tree.1.gz
  </p>
</div>

### <span id="243">2.4.3 <span style="font-family: 新宋体;">查询某个命令属于哪个软件包</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 新宋体;">查询的时候要使用绝对路径</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    [root@znix ~]# rpm -qf `which crond`&nbsp;
  </p>
  
  <p>
    cronie-1.4.4-16.el6_8.2.x86_64
  </p>
</div>

<p style="line-height: normal;">
  &nbsp;
</p>

<div id="gtx-trans" style="position: absolute; left: 71px; top: -18.4px;">
  &nbsp;
</div>

<div id="toc_container" class="toc_white have_bullets">
  <ul class="toc_list">
    <li>
      <a href="#1">第1章 练习题</a><ul>
        <li>
          <a href="#11_12_varwwwhtml_data">1.1 每天晚上 12 点，打包站点目录/var/www/html 备份到/data 目录下（最好每次备份按时间生成不同的备份包）</a><ul>
            <li>
              <a href="#111">1.1.1 测试命令</a>
            </li>
            <li>
              <a href="#112">1.1.2 写入脚本中</a>
            </li>
            <li>
              <a href="#113">1.1.3 测试脚本</a>
            </li>
            <li>
              <a href="#114">1.1.4 写入定时任务</a>
            </li>
            <li>
              <a href="#115">1.1.5 检查执行结果</a>
            </li>
            <li>
              <a href="#12_nbspnbsp_900_17_00_serverscriptclsnsh">1.2 每周&nbsp;六、日&nbsp;上午 9:00和下午 17： 00 上班(执行程序/server/script/clsn.sh代替学习)。</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#13">1.3 描述下列路径的内容是做什么的。</a>
        </li>
        <li>
          <a href="#14_grep">1.4 请说出下列 grep 正则表达式的含义</a>
        </li>
        <li>
          <a href="#15_nbsp">1.5 &nbsp;排除文件中的空行和空格</a><ul>
            <li>
              <a href="#151">1.5.1 文件的内容</a>
            </li>
            <li>
              <a href="#152_egrep">1.5.2 egrep方法</a>
            </li>
            <li>
              <a href="#153_awk">1.5.3 awk方法</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#16_passwdtxt">1.6 把passwd.txt 第一列取出来</a><ul>
            <li>
              <a href="#161">1.6.1 文件内容</a>
            </li>
            <li>
              <a href="#162">1.6.2 排除思想</a>
            </li>
            <li>
              <a href="#163_sed">1.6.3 sed方法</a>
            </li>
            <li>
              <a href="#164_awk">1.6.4 awk方法</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#17_vivim">1.7 vi/vim命令、快捷键</a><ul>
            <li>
              <a href="#171_services10010">1.7.1 编辑services定位到第100行把这一行复制到文件的最后一行粘贴10次。</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#18_clsn_755">1.8 授权 clsn 目录及其子目录 755 的权限。</a>
        </li>
        <li>
          <a href="#19_clsn_clsn_root">1.9 把 clsn 目录及其子目录的属主改为 clsn,组改为 root。</a><ul>
            <li>
              <a href="#191">1.9.1 修改时可能发生的错误</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#110_umask">1.10 描述下 umask 的作用.</a>
        </li>
        <li>
          <a href="#111_etcrclocal_etchosts_etcservices_backup">1.11 每天打包备份 /etc/rc.local /etc/hosts /etc/services 到 /backup目录。</a><ul>
            <li>
              <a href="#1111">1.11.1 测试命令</a>
            </li>
            <li>
              <a href="#1112">1.11.2 写入脚本</a>
            </li>
            <li>
              <a href="#1113">1.11.3 测试脚本</a>
            </li>
            <li>
              <a href="#1114">1.11.4 写入定时任务</a>
            </li>
            <li>
              <a href="#1115">1.11.5 测试定时任务</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#2">第2章 回顾课程</a><ul>
        <li>
          <a href="#21">2.1 定时任务</a>
        </li>
        <li>
          <a href="#_2_etcservices_tmp">每隔 2 个小时将/etc/services 文件打包备份到/tmp 下（最好每次备份成不同的备份包）</a><ul>
            <li>
              <a href="#211">2.1.1 测试命令</a>
            </li>
            <li>
              <a href="#212">2.1.2 放入脚本中</a>
            </li>
            <li>
              <a href="#213">2.1.3 测试脚本</a>
            </li>
            <li>
              <a href="#214">2.1.4 写入定时任务</a>
            </li>
            <li>
              <a href="#215">2.1.5 检查定时任务是否成功</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#22_linux">2.2 无法连接linux</a><ul>
            <li>
              <a href="#221">2.2.1 道路是否通畅</a>
            </li>
            <li>
              <a href="#222">2.2.2 是否有人劫财劫色</a>
            </li>
            <li>
              <a href="#223">2.2.3 是否有人提供服务</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#23_linux">2.3 linux无法上网怎么办</a><ul>
            <li>
              <a href="#231_ping">2.3.1 ping 域名</a>
            </li>
            <li>
              <a href="#232_pingnbsp_ip">2.3.2 ping&nbsp; 外网ip</a>
            </li>
            <li>
              <a href="#233_dns">2.3.3 检查dns配置文件</a>
            </li>
            <li>
              <a href="#234">2.3.4 修改配置文件</a>
            </li>
          </ul>
        </li>
        
        <li>
          <a href="#24_rpm">2.4 检查一个软件是否按照 rpm 相关</a><ul>
            <li>
              <a href="#241">2.4.1 查询某个软件包是否安装</a>
            </li>
            <li>
              <a href="#242">2.4.2 查询软件包里面的内容</a>
            </li>
            <li>
              <a href="#243">2.4.3 查询某个命令属于哪个软件包</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>
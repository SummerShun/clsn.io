---
title: Shell编程基础篇-上
author: 惨绿少年
type: post
date: 2017-12-06T00:01:00+00:00
url: /clsn/lx520.html
Baidusubmit:
  - 1
views:
  - 254
specs_zan:
  - 1
categories:
  - Linux运维
  - Shell编程
  - 运维基本功

---
## <span id="11">1.1 <span style="font-family: '微软雅黑',sans-serif;">前言</span></span>

### <span id="111_Shell">1.1.1 <span style="font-family: '微软雅黑',sans-serif;">为什么学</span>Shell</span>

<p style="text-indent: 21.0pt;">
  Shell<span style="font-family: 等线;">脚本语言是实现</span>Linux/UNIX<span style="font-family: 等线;">系统管理及自动化运维所必备的重要工具，</span> Linux/UNIX<span style="font-family: 等线;">系统的底层及基础应用软件的核心大都涉及</span>Shell<span style="font-family: 等线;">脚本的内容。每一个合格</span> <span style="font-family: 等线;">的</span>Linux<span style="font-family: 等线;">系统管理员或运维工程师，都需要能够熟练地编写</span>Shell<span style="font-family: 等线;">脚本语言，并能够阅</span> <span style="font-family: 等线;">读系统及各类软件附带的</span>Shell<span style="font-family: 等线;">脚本内容。只有这样才能提升运维人员的工作效率，适</span> <span style="font-family: 等线;">应曰益复杂的工作环境，减少不必要的重复工作，从而为个人的职场发展奠定较好的基础</span>
</p>

### <span id="112_shell">1.1.2 <span style="font-family: '微软雅黑',sans-serif;">什么是</span>shell</span>

<p style="text-indent: 21.0pt;">
  Shell<span style="font-family: 等线;">是一个命令解释器，它在操作系统的最外层，负责直接与用户对话，把用户的输入解释给操作系统，并处理各种各样的操作系统的输出结果，输出屏幕返回给用户。</span>
</p>

_<span style="text-decoration: underline;"><span style="font-family: 等线;">这种对话方式可以是：</span></span>_

<p style="text-indent: 11.0pt;">
  <span style="font-family: 等线;">交互的方式：从键盘输入命令，通过</span>/bin/bash<span style="font-family: 等线;">的解析，可以立即得到</span>Shell<span style="font-family: 等线;">的回应</span>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> ls            </span>
anaconda-<span style="color: #000000;">ks.cfg  
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo ls |bash </span>
anaconda-ks.cfg   </pre>
</div>

<p style="text-indent: 11.0pt;">
  <span style="font-family: 等线;">非交互的方式</span>: <span style="font-family: 等线;">脚本</span>
</p>

<p style="text-align: center;" align="center">
  <img data-original="https://clsn.io/wp-content/uploads/2018/03/1190037-20171206153555144-842391077.png" src="/wp-content/themes/clsn-003/img/blank.gif" alt="Shell编程基础篇-上" alt="" />
</p>

### <span id="113_Shell">1.1.3 <span style="font-family: '微软雅黑',sans-serif;">什么是</span>Shell<span style="font-family: '微软雅黑',sans-serif;">脚本</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 等线;">&nbsp; 命令、变量和流程控制语句等有机的结合起来</span>
</p>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shell<span style="font-family: 等线;">脚本擅长处理纯文本类型的数据，而</span>linux<span style="font-family: 等线;">中，几乎所有的配置文件，日志，都是纯文本类型文件</span>

### <span id="114">1.1.4 <span style="font-family: '微软雅黑',sans-serif;">脚本语言的种类</span></span>

**<span style="font-family: 等线;">一、编译型语言</span>**

**<span style="font-family: 等线;">定义：</span>**<span style="font-family: 等线;">指用专用的编译器，针对特定的操作平台（操作系统）将某种高级语言源代码一次性翻译成可被硬件平台直接运行的二进制机器码（具有操作数，指令、及相应的格式），这个过程叫做编译（</span>./configure&nbsp; make makeinstall <span style="font-family: 等线;">）；编译好的可执行性文件（</span>.exe<span style="font-family: 等线;">），可在相对应的平台上运行（移植性差，但运行效率高）。。</span>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">典型的编译型语言有，</span> <span style="background: yellow;">C</span><span style="font-family: 等线; background: yellow;">语言、</span><span style="background: yellow;">C++</span><span style="font-family: 等线;">等。</span>
</p>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">另外，</span>Java<span style="font-family: 等线;">语言是一门很特殊的语言，</span>Java<span style="font-family: 等线;">程序需要进行编译步骤，但并不会生成特定平台的二进制机器码，它编译后生成的是一种与平台无关的字节码文件（</span>*.class<span style="font-family: 等线;">）（移植性好的原因），这种字节码自然不能被平台直接执行，运行时需要由解释器解释成相应平台的二进制机器码文件；大多数人认为</span>Java<span style="font-family: 等线;">是一种编译型语言，但我们说</span>Java<span style="font-family: 等线;">即是编译型语言，也是解释型语言也并没有错。</span>
</p>

**<span style="font-family: 等线;">二、解释型语言</span>**

**<span style="font-family: 等线;">定义：</span>**<span style="font-family: 等线;">指用专门解释器对源程序逐行解释成特定平台的机器码并立即执行的语言；相当于把编译型语言的编译链接过程混到一起同时完成的。</span>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">解释型语言执行效率较低，且不能脱离解释器运行，但它的跨平台型比较容易，只需提供特定解释器即可。</span>
</p>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">常见的解释型语言有，</span> Python<span style="font-family: 等线;">（同时是脚本语言）与</span>Ruby<span style="font-family: 等线;">等。</span>
</p>

**<span style="font-family: 等线;">三、脚本语言</span>**

**<span style="font-family: 等线;">定义：</span>**<span style="font-family: 等线;">为了缩短传统的编写</span>-<span style="font-family: 等线;">编译</span>-<span style="font-family: 等线;">链接</span>-<span style="font-family: 等线;">运行（</span>edit-compile-link-run<span style="font-family: 等线;">）过程而创建的计算机编程语言。</span>

<p style="text-indent: 21.0pt;">
  <strong><span style="font-family: 等线;">特点：</span></strong><span style="font-family: 等线;">程序代码即是最终的执行文件，只是这个过程需要解释器的参与，所以说脚本语言与解释型语言有很大的联系。脚本语言通常是被解释执行的，而且程序是文本文件。</span>
</p>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">典型的脚本语言有，</span>JavaScript<span style="font-family: 等线;">，</span>Python<span style="font-family: 等线;">，</span><span style="background: yellow;">shell</span><span style="font-family: 等线;">等。</span>
</p>

**<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">其他常用的脚本语句种类</span></span>**

<p style="text-indent: 21.0pt;">
  <strong>PHP</strong><span style="font-family: 等线;">是网页程序，也是脚本语言。是一款更专注于</span>web<span style="font-family: 等线;">页面开发（前端展示）的脚本语言，例如：</span>Dedecms,discuz<span style="font-family: 等线;">。</span>PHP<span style="font-family: 等线;">程序也可以处理系统日志，配置文件等，</span>php<span style="font-family: 等线;">也可以调用系统命令。</span>
</p>

<p style="text-indent: 21.0pt;">
  <strong>Perl</strong><span style="font-family: 等线;">脚本语言。比</span>shell<span style="font-family: 等线;">脚本强大很多，语法灵活、复杂，实现方式很多，不易读，团队协作困难，但仍不失为很好的脚本语言，存世大量的程序软件。</span>MHA<span style="font-family: 等线;">高可用</span>Perl<span style="font-family: 等线;">写的</span>
</p>

<p style="text-indent: 21.0pt;">
  <strong>Python</strong><span style="font-family: 等线;">，不但可以做脚本程序开发，也可以实现</span>web<span style="font-family: 等线;">程序以及软件的开发。近两年越来越多的公司都会要求会</span>Python<span style="font-family: 等线;">。</span>
</p>

**<span style="text-decoration: underline;"><span style="background: lime;">Shell</span></span>****<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">脚本与</span><span style="background: lime;">php/perl/python</span></span>****<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">语言的区别和优势？</span></span>**

<p style="text-indent: 21.0pt;">
  shell<span style="font-family: 等线;">脚本的优势在于处理操作系统底层的业务</span> <span style="font-family: 等线;">（</span>linux<span style="font-family: 等线;">系统内部的应用都是</span>shell<span style="font-family: 等线;">脚本完成）因为有大量的</span>linux<span style="font-family: 等线;">系统命令为它做支撑。</span>2000<span style="font-family: 等线;">多个命令都是</span>shell<span style="font-family: 等线;">脚本编程的有力支撑，特别是</span>grep<span style="font-family: 等线;">、</span>awk<span style="font-family: 等线;">、</span>sed<span style="font-family: 等线;">等。例如：一键软件安装、优化、监控报警脚本，常规的业务应用，</span>shell<span style="font-family: 等线;">开发更简单快速，符合运维的简单、易用、高效原则</span>.
</p>

<span style="font-family: 等线;">　　</span>PHP<span style="font-family: 等线;">、</span>Python<span style="font-family: 等线;">优势在于开发运维工具以及</span>web<span style="font-family: 等线;">界面的管理工具，</span>web<span style="font-family: 等线;">业务的开发等。处理一键软件安装、优化，报警脚本。常规业务的应用等</span>php/python<span style="font-family: 等线;">也是能够做到的。但是开发效率和复杂比用</span>shell<span style="font-family: 等线;">就差很多了。</span>

<span style="color: #00ff00;"><strong><span style="font-family: 等线;">系统环境说明</span></strong></span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat /etc/redhat-release </span>
CentOS Linux release 7.4.1708<span style="color: #000000;"> (Core) 
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> uname -r</span>
3.10.0-693<span style="color: #000000;">.el7.x86_64
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> getenforce </span>
<span style="color: #000000;">Disabled
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> systemctl status firewalld.service </span>
● firewalld.service - firewalld -<span style="color: #000000;"> dynamic firewall daemon
   Loaded: loaded (</span>/usr/lib/systemd/system/<span style="color: #000000;">firewalld.service; disabled; vendor preset: enabled)
   Active: inactive (dead)
     Docs: man:firewalld(</span>1)</pre>
</div>

### <span id="115_shell">1.1.5 <span style="font-family: '微软雅黑',sans-serif;">系统中的</span>shell</span>

_<span style="text-decoration: underline;"><span style="font-family: 等线;">查看系统中的命解释器</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> cat /etc/shells </span>
/bin/<span style="color: #000000;">sh
</span>/bin/<span style="color: #000000;">bash
</span>/sbin/<span style="color: #000000;">nologin
</span>/usr/bin/<span style="color: #000000;">sh
</span>/usr/bin/<span style="color: #000000;">bash
</span>/usr/sbin/nologin</pre>
</div>

**<span style="text-decoration: underline;"><span style="font-family: 等线;">常用操作系统的默认</span>shell </span>**

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    1.Linux<span style="font-family: '微软雅黑',sans-serif;">是</span>Bourne Again shell<span style="font-family: '微软雅黑',sans-serif;">（</span>bash<span style="font-family: '微软雅黑',sans-serif;">）</span>
  </p>
  
  <p>
    2.Solaris<span style="font-family: '微软雅黑',sans-serif;">和</span>FreeBSD<span style="font-family: '微软雅黑',sans-serif;">缺省的是</span>Bourne shell<span style="font-family: '微软雅黑',sans-serif;">（</span>sh<span style="font-family: '微软雅黑',sans-serif;">）</span>
  </p>
  
  <p>
    3.AIX<span style="font-family: '微软雅黑',sans-serif;">下是</span>Korn Shell<span style="font-family: '微软雅黑',sans-serif;">（</span>ksh<span style="font-family: '微软雅黑',sans-serif;">）</span>
  </p>
  
  <p>
    4.HP-UX<span style="font-family: '微软雅黑',sans-serif;">缺省的是</span>POSIX shell<span style="font-family: '微软雅黑',sans-serif;">（</span>sh<span style="font-family: '微软雅黑',sans-serif;">）</span>
  </p>
</div>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $SHELL</span>
/bin/bash</pre>
</div>

**<span style="text-decoration: underline;"><span style="background: lime;">bash</span></span>****<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">版本</span></span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> bash -version</span>
GNU bash， 版本 4.2.46(2)-release (x86_64-redhat-linux-<span style="color: #000000;">gnu)
Copyright (C) </span>2011<span style="color: #000000;"> Free Software Foundation, Inc.
许可证 GPLv3</span>+: GNU GPL 许可证版本3或者更高 &lt;http://gnu.org/licenses/gpl.html><span style="color: #000000;">

这是自由软件，您可以自由地更改和重新发布。
在法律允许的范围内没有担保.</span>&nbsp;</pre>
</div>

**<span style="color: red; background: aqua;">bash </span>****<span style="font-family: 等线; color: red; background: aqua;">破壳漏洞</span>**

<div class="cnblogs_code">
  <pre>使用 命令 env x=<span style="color: #800000;">'</span><span style="color: #800000;">() { :;}; echo be careful</span><span style="color: #800000;">'</span> bash -c <span style="color: #800000;">"</span><span style="color: #800000;">echo this is a test</span><span style="color: #800000;">"</span><span style="color: #000000;">
如果返回结果为一行，则为正常，
 [root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> env x='() { :;}; echo be careful' bash -c "echo this is a test"</span>
 this <span style="color: #0000ff;">is</span><span style="color: #000000;"> a test
 
</span><span style="color: #008000;">#</span><span style="color: #008000;">解决办法 升级当前的bash版本</span>
 yum install update bash</pre>
</div>

_<span style="text-decoration: underline;">sh</span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">与</span>bash </span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">的关系</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;">  ll /bin/sh</span>
lrwxrwxrwx. 1 root root 4 11月 13 11:15 /bin/sh -> bash</pre>
</div>

_<span style="text-decoration: underline;">/bin</span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">与</span> /user/bin </span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">的关系</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> ll /bin -d</span>
lrwxrwxrwx. 1 root root 7 11月 13 11:15 /bin -> usr/bin</pre>
</div>

## <span id="12">1.2 <span style="font-family: '微软雅黑',sans-serif;">脚本书写规范</span></span>

### <span id="121">1.2.1 <span style="font-family: '微软雅黑',sans-serif;">脚本统一存放目录</span></span>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> mkdir -p /server/scripts/</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> cd /server/scripts/</span></pre>
</div>

### <span id="122">1.2.2 <span style="font-family: '微软雅黑',sans-serif;">选择解释器</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    <span style="font-family: '微软雅黑',sans-serif;">注意格式</span> <span style="font-family: '微软雅黑',sans-serif;">&darr;</span>
  </p>
  
  <p style="text-indent: 21pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    <span style="font-family: '微软雅黑',sans-serif;">其中开头的</span>"#!"<span style="font-family: '微软雅黑',sans-serif;">字符又称为幻数，在执行</span>bash<span style="font-family: '微软雅黑',sans-serif;">脚本的时候，内核会根据</span>"#!"<span style="font-family: '微软雅黑',sans-serif;">后的解释器来确定该用那个程序解释这个脚本中的内容。</span>
  </p>
</div>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> head -1 /etc/init.d/*</span>
==> /etc/init.d/functions &lt;==
<span style="color: #008000;">#</span><span style="color: #008000;"> -*-Shell-script-*-</span>

==> /etc/init.d/netconsole &lt;==
<span style="color: #008000;">#</span><span style="color: #008000;">!/bin/bash</span>

==> /etc/init.d/network &lt;==
<span style="color: #008000;">#</span><span style="color: #008000;">! /bin/bash</span></pre>
</div>

### <span id="123_vim">1.2.3 <span style="font-family: '微软雅黑',sans-serif;">编辑脚本使用</span>vim</span>

<span style="font-family: 等线;">使用</span> .vimrc <span style="font-family: 等线;">文件，能够快速的生成开头的注释信息</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat  ~/.vimrc </span>
autocmd BufNewFile *.py,*.cc,*.sh,*.java <span style="color: #0000ff;">exec</span> <span style="color: #800000;">"</span><span style="color: #800000;">:call SetTitle()</span><span style="color: #800000;">"</span><span style="color: #000000;">

func SetTitle()
    </span><span style="color: #0000ff;">if</span> expand(<span style="color: #800000;">"</span><span style="color: #800000;">%:e</span><span style="color: #800000;">"</span>) == <span style="color: #800000;">'</span><span style="color: #800000;">sh</span><span style="color: #800000;">'</span><span style="color: #000000;">
        call setline(</span>1,<span style="color: #800000;">"</span><span style="color: #800000;">#!/bin/bash</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>2, <span style="color: #800000;">"</span><span style="color: #800000;">##############################################################</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>3, <span style="color: #800000;">"</span><span style="color: #800000;"># File Name: </span><span style="color: #800000;">"</span>.expand(<span style="color: #800000;">"</span><span style="color: #800000;">%</span><span style="color: #800000;">"</span><span style="color: #000000;">))
        call setline(</span>4, <span style="color: #800000;">"</span><span style="color: #800000;"># Version: V1.0</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>5, <span style="color: #800000;">"</span><span style="color: #800000;"># Author: clsn</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>6, <span style="color: #800000;">"</span><span style="color: #800000;"># Organization: http://blog.znix.top</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>7, <span style="color: #800000;">"</span><span style="color: #800000;"># Created Time : </span><span style="color: #800000;">"</span>.strftime(<span style="color: #800000;">"</span><span style="color: #800000;">%F %T</span><span style="color: #800000;">"</span><span style="color: #000000;">))
        call setline(</span>8, <span style="color: #800000;">"</span><span style="color: #800000;"># Description:</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>9, <span style="color: #800000;">"</span><span style="color: #800000;">##############################################################</span><span style="color: #800000;">"</span><span style="color: #000000;">)
        call setline(</span>10, <span style="color: #800000;">""</span><span style="color: #000000;">)
    endif
endfunc</span></pre>
</div>

_<span style="text-decoration: underline;"><span style="font-family: 等线;">使用后的效果</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat  scripts_test.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: scripts_test.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-04 11:39:57</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:  First scripts file</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span></pre>
</div>

<p style="text-indent: 15.75pt;">
  <span style="font-family: 等线;">在</span>Shell<span style="font-family: 等线;">脚本中，跟在</span>#<span style="font-family: 等线;">后面的内容表示注释。注释部分不会被执行，仅给人看。注释可以自成一行，也可以跟在命令后面，与命令同行。要养成写注释的习惯，方便自己与他人。</span>
</p>

<p style="text-indent: 15.75pt;">
  <span style="font-family: 等线; background: yellow;">最好不用中文注释，因为在不同字符集的系统会出现乱码</span><span style="font-family: 等线;">。</span>(<span style="font-family: 等线;">字符集为</span>zh_CN.UTF-8,<span style="font-family: 等线;">为中文</span>)<span style="font-family: 等线;">。</span>
</p>

### <span id="124">1.2.4 <span style="font-family: '微软雅黑',sans-serif;">文件名规范</span></span>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 等线;">名字要有意义，并且结尾以</span> .sh <span style="font-family: 等线;">结束</span>

### <span id="125">1.2.5 <span style="font-family: '微软雅黑',sans-serif;">开发的规范和习惯小结</span></span>

<p style="margin-left: 11.0pt;">
  1) <span style="font-family: 等线;">放在统一的目录</span>
</p>

<p style="margin-left: 11.0pt;">
  2) <span style="font-family: 等线;">脚本以</span>.sh<span style="font-family: 等线;">为扩展名</span>
</p>

<p style="margin-left: 11.0pt;">
  3) <span style="font-family: 等线;">开头指定脚本解释器。</span>
</p>

<p style="margin-left: 11.0pt;">
  4) <span style="font-family: 等线;">开头加版本版权等信息，可配置</span>~/.vimrc<span style="font-family: 等线;">文件自动添加。</span>
</p>

<p style="margin-left: 11.0pt;">
  5) <span style="font-family: 等线;">脚本不要用中文注释，尽量用英文注释。</span>
</p>

<p style="margin-left: 11.0pt;">
  6) <span style="font-family: 等线;">代码书写优秀习惯</span>
</p>

<p style="margin-left: 22.0pt;">
  &nbsp; a<span style="font-family: 等线;">、成对的内容一次性写出来，防止遗漏，如</span>[&nbsp; ]<span style="font-family: 等线;">、</span>' '<span style="font-family: 等线;">、</span>" "<span style="font-family: 等线;">等</span>
</p>

<p style="margin-left: 22.0pt;">
  &nbsp; b<span style="font-family: 等线;">、</span>[&nbsp; ]<span style="font-family: 等线;">两端要有空格，先输入</span>[&nbsp; ],<span style="font-family: 等线;">退格，输入</span>2<span style="font-family: 等线;">个空格，再退格写。</span>
</p>

<p style="margin-left: 22.0pt;">
  &nbsp; c<span style="font-family: 等线;">、流程控制语句一次书写完，再添加内容。</span>(if <span style="font-family: 等线;">条件</span> ; then &nbsp;<span style="font-family: 等线;">内容</span>;fi)ddd
</p>

<p style="margin-left: 22.0pt;">
  &nbsp; d<span style="font-family: 等线;">、通过缩进让代码易读。</span>
</p>

<p style="margin-left: 22.0pt;">
  &nbsp; f<span style="font-family: 等线;">、脚本中的引号都是英文状态下的引号，其他字符也是英文状态。</span>
</p>

## <span id="13_shell">1.3 shell<span style="font-family: '微软雅黑',sans-serif;">脚本的执行</span></span>

### <span id="131">1.3.1 <span style="font-family: '微软雅黑',sans-serif;">执行脚本的办法</span></span>

<div class="cnblogs_code">
  <pre>sh/<span style="color: #000000;">bash   scripts.sh 
chown </span>+x   ./scripts.sh  && ./<span style="color: #000000;">scripts.sh  
source scripts.sh
. (空格) scripts.sh
cat oldboyedu.sh </span>|bash  <span style="color: #008000;">#</span><span style="color: #008000;"> 效率较低</span></pre>
</div>

**_<span style="text-decoration: underline;"><span style="background: lime;">source </span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">与</span><span style="background: lime;"> . </span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">（点）</span> </span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">的作用</span></span>_**

_<span style="text-decoration: underline;">soucre</span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">命令</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> help source  |head -2</span>
<span style="color: #000000;">source: source 文件名 [参数]
    在当前 shell 中执行一个文件中的命令。</span></pre>
</div>

_<span style="text-decoration: underline;">. (</span>__<span style="text-decoration: underline;"><span style="font-family: 等线;">点</span>)</span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> help . |head -2</span>
<span style="color: #000000;">.: . 文件名 [参数]
    在当前 shell 中执行一个文件中的命令。</span></pre>
</div>

### <span id="132_sh_source">1.3.2 sh <span style="font-family: '微软雅黑',sans-serif;">于</span> source<span style="font-family: '微软雅黑',sans-serif;">的区别</span></span>

<p style="text-align: center;" align="center">
  <img data-original="https://clsn.io/wp-content/uploads/2018/03/1190037-20171206153935784-244298231.png" src="/wp-content/themes/clsn-003/img/blank.gif" alt="Shell编程基础篇-上" alt="" />
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh  clsn_test.sh </span>
<span style="color: #000000;">Hello World!
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;">  sh  新建一个Shell窗口（新建一个进程）执行一个文件中的命令。</span>
<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> source clsn_test.sh </span>
<span style="color: #000000;">Hello World!
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $clsn</span>
Hello World!</pre>
</div>

**<span style="font-family: 等线; background: lime;">面试题：</span>**

<span style="font-family: 等线;">问</span>sh test.sh<span style="font-family: 等线;">后</span>echo $user<span style="font-family: 等线;">返回的结果</span>_<span style="text-decoration: underline;">_</span><span style="text-decoration: underline;"><span style="font-family: 等线;">空</span>_ </span>?

<div class="cnblogs_code">
  <pre>[root@oldboy scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat test.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span>
user=`whoami`</pre>
</div>

## <span id="14_Shell">1.4 Shell<span style="font-family: '微软雅黑',sans-serif;">的变量</span></span>

### <span id="141">1.4.1 <span style="font-family: '微软雅黑',sans-serif;">什么是变量</span></span>

<span style="font-family: 等线;">变量可以分为两类：环境变量（全局变量）和普通变量（局部变量）</span>

<span style="font-family: 等线;">　　<strong>环境变量</strong>也可称为全局变量，可以在创建他们的</span>Shell<span style="font-family: 等线;">及其派生出来的任意子进程</span>shell<span style="font-family: 等线;">中使用，环境变量又可分为自定义环境变量和</span>Bash<span style="font-family: 等线;">内置的环境变量</span>

<span style="font-family: 等线;">　　<strong>普通变量</strong>也可称为局部变量，只能在创建他们的</span>Shell<span style="font-family: 等线;">函数或</span>Shell<span style="font-family: 等线;">脚本中使用。普通变量一般是由开发者用户开发脚本程序时创建的。</span>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **<span style="font-family: 等线;">特殊变量</span>**

### <span id="142">1.4.2 <span style="font-family: '微软雅黑',sans-serif;">环境变量</span></span>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">使用</span> <strong><em><span style="background: lime;">env</span></em></strong><span style="background: lime;">/<strong><em>declare</em></strong>/<strong><em>set/export -p</em></strong></span> <span style="font-family: 等线;">命令查看系统中的环境变量，这三个命令的的输出方式稍有不同。</span>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> env</span>
XDG_SESSION_ID=1<span style="color: #000000;">
HOSTNAME</span>=<span style="color: #000000;">clsn
TERM</span>=<span style="color: #000000;">linux
SHELL</span>=/bin/<span style="color: #000000;">bash
HISTSIZE</span>=1000<span style="color: #000000;">
SSH_CLIENT</span>=10.0.0.1 5537 22<span style="color: #000000;">
SSH_TTY</span>=/dev/pts/<span style="color: #000000;">0
USER</span>=<span style="color: #000000;">root
</span>~~~</pre>
</div>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 等线;">输出一个系统中的</span> <span style="font-family: 等线;">环境变量</span>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $LANG</span>
zh_CN.UTF-8</pre>
</div>

### <span id="143">1.4.3 <span style="font-family: '微软雅黑',sans-serif;">普通变量</span></span>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">本地变量在用户当前的</span>Shell<span style="font-family: 等线;">生存期的脚本中使用。例如，本地变量</span>OLDBOY<span style="font-family: 等线;">取值为</span>bingbing<span style="font-family: 等线;">，这个值在用户当前</span>Shell<span style="font-family: 等线;">生存期中有意义。如果在</span>Shell<span style="font-family: 等线;">中启动另一个进程或退出，本地变量值将无效</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</p>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">定义普通变量实践</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> a=1</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> b='2'</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> c="3"</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "$a"</span>
1<span style="color: #000000;">
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "$b"</span>
2<span style="color: #000000;">
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "${c}"</span></pre>
</div>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">提示：</span>$<span style="font-family: 等线;">变量名表示输出变量，可以用</span>$c<span style="font-family: 等线;">和</span>${c}<span style="font-family: 等线;">两种用法</span>
</p>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">小结：连续普通字符串内容赋值给变量，不管用什么引号或者不用引号，它的内容是什么，打印变量就输出什么</span>
</p>

### <span id="144_export">1.4.4 export<span style="font-family: '微软雅黑',sans-serif;">命令</span></span>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> help export </span>
export: export [-fn] [名称[=值] ...] 或 export -<span style="color: #000000;">p
为 shell 变量设定导出属性。

标记每个 NAME 名称为自动导出到后续命令执行的环境。如果提供了 VALUE
则导出前将 VALUE 作为赋值。</span></pre>
</div>

**_<span style="text-decoration: underline;"><span style="background: lime;">export</span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">命令的说明</span></span>_**

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">当前</span>shell<span style="font-family: 等线;">窗口及子</span>shell<span style="font-family: 等线;">窗口生效</span>
</p>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">在新开的</span>shell<span style="font-family: 等线;">窗口不会生效，生效需要写入配置文件</span>
</p>

\# <span style="font-family: 等线;">定义变量</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> CSLN=clsn</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> export CSLN1=1</span></pre>
</div>

\# <span style="font-family: 等线;">当前窗口查看</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $CSLN</span>
<span style="color: #000000;">clsn
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $CSLN1</span>
1</pre>
</div>

\# <span style="font-family: 等线;">编写测试脚本</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim quanju.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span>
<span style="color: #000000;">echo $CSLN
echo $CSLN1</span></pre>
</div>

\# <span style="font-family: 等线;">使用</span>sh<span style="font-family: 等线;">执行</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh  quanju.sh </span>

1</pre>
</div>

\# <span style="font-family: 等线;">使用</span>source <span style="font-family: 等线;">执行</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> source quanju.sh </span>
<span style="color: #000000;">clsn
</span>1</pre>
</div>

### <span id="145">1.4.5 <span style="font-family: '微软雅黑',sans-serif;">环境变量相关配置文件</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    /etc/proflie
  </p>
  
  <p>
    /etc/bashrc
  </p>
  
  <p>
    ~/.bashrc
  </p>
  
  <p>
    ~/.bash_profile
  </p>
  
  <p>
    /etc/proflie.d/&nbsp; # <span style="font-family: '微软雅黑',sans-serif;">目录</span>
  </p>
</div>

**_<span style="font-family: 等线; background: lime;">四文件读取顺序（</span><span style="background: lime;">CentOS6</span>_****_<span style="font-family: 等线; background: lime;">和</span><span style="background: lime;">7</span>_****_<span style="font-family: 等线; background: lime;">都一样）</span>_**

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 21.2pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    <span style="font-family: '微软雅黑',sans-serif;">①</span> /etc/profile
  </p>
  
  <p style="text-indent: 21.2pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    <span style="font-family: '微软雅黑',sans-serif;">②</span> ~/.bash_profile
  </p>
  
  <p style="text-indent: 21.2pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    <span style="font-family: '微软雅黑',sans-serif;">③</span> ~/.bashrc
  </p>
  
  <p style="text-indent: 21.2pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    <span style="font-family: '微软雅黑',sans-serif;">④</span> /etc/bashrc
  </p>
</div>

<p style="text-align: center;" align="center">
  <img data-original="https://clsn.io/wp-content/uploads/2018/03/1190037-20171206154157347-2037699353.png" src="/wp-content/themes/clsn-003/img/blank.gif" alt="Shell编程基础篇-上" alt="" />
</p>

<p style="text-align: center;" align="center">
  <strong><span style="font-family: 等线;">文件读取过程示意图</span></strong>
</p>

**_<span style="font-family: 等线; background: lime;">验证四文件读取顺序的方法</span>_**

<div class="cnblogs_code">
  <pre>sed -i <span style="color: #800000;">'</span><span style="color: #800000;">1a echo "$(date +%T-%s) /etc/profile1" >>/tmp/clsn</span><span style="color: #800000;">'</span> /etc/<span style="color: #000000;">profile
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">$a echo "$(date +%T-%s) /etc/profile2" >>/tmp/clsn</span><span style="color: #800000;">'</span> /etc/<span style="color: #000000;">profile
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">1a echo "$(date +%T-%s) /etc/bashrc1" >>/tmp/clsn</span><span style="color: #800000;">'</span> /etc/<span style="color: #000000;">bashrc
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">$a echo "$(date +%T-%s) /etc/bashrc2" >>/tmp/clsn</span><span style="color: #800000;">'</span> /etc/<span style="color: #000000;">bashrc
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">1a echo "$(date +%T-%s) ~/.bashrc1" >>/tmp/clsn</span><span style="color: #800000;">'</span> ~/<span style="color: #000000;">.bashrc
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">$a echo "$(date +%T-%s) ~/.bashrc2" >>/tmp/clsn</span><span style="color: #800000;">'</span> ~/<span style="color: #000000;">.bashrc
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">1a echo "$(date +%T-%s) ~/.bash_profile1" >>/tmp/clsn</span><span style="color: #800000;">'</span> ~/<span style="color: #000000;">.bash_profile
sed </span>-i <span style="color: #800000;">'</span><span style="color: #800000;">$a echo "$(date +%T-%s) ~/.bash_profile2" >>/tmp/clsn</span><span style="color: #800000;">'</span> ~/.bash_profile</pre>
</div>

### <span id="146">1.4.6 <span style="font-family: '微软雅黑',sans-serif;">环境变量的知识小结</span></span>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">变量名通常要大写。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">变量可以在自身的</span>Shell<span style="font-family: '微软雅黑',sans-serif;">及子</span>Shell<span style="font-family: '微软雅黑',sans-serif;">中使用。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">常用</span>export<span style="font-family: '微软雅黑',sans-serif;">来定义环境变量。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">执行</span>env<span style="font-family: '微软雅黑',sans-serif;">默认可以显示所有的环境变量名称及对应的值。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">输出时用&ldquo;</span>$<span style="font-family: '微软雅黑',sans-serif;">变量名&rdquo;，取消时用&ldquo;</span><em><span style="background: lime;">unset</span></em><em><span style="font-family: '微软雅黑',sans-serif; courier new"4courier new";background: lime;">变量名</span></em><span style="font-family: '微软雅黑',sans-serif;">&rdquo;。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">书写</span>crond<span style="font-family: '微软雅黑',sans-serif;">定时任务时要注意，脚本要用到的环境变量最好先在所执行的</span>Shell<span style="font-family: '微软雅黑',sans-serif;">脚本中重新定义。</span>
</p>

<p style="margin-left: 28.1pt; text-indent: -21.0pt;">
  <span style="font-family: Wingdings;">&uuml;&nbsp;</span><span style="font-family: '微软雅黑',sans-serif;">如果希望环境变量永久生效，则可以将其<span style="text-decoration: underline;">放在用户环境变量文件或全局环境变量文件</span>里。</span>
</p>

### <span id="147">1.4.7 <span style="font-family: '微软雅黑',sans-serif;">变量中引号的使用</span></span>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 等线;">只有在变量的值中有空格的时候，会使用引号。</span>
</p>

<p style="margin-left: 21.0pt;">
  <span style="font-family: 等线;">单引号与双引号的区别在于，是否能够解析特殊符号。</span>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> name=znix</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> name2='clsn'</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> name3="http://blog.znix.top"</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name</span>
<span style="color: #000000;">znix
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name2</span>
<span style="color: #000000;">clsn
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name3</span>
http://<span style="color: #000000;">blog.znix.top
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> name4='cl sn'</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name4</span>
<span style="color: #000000;">cl sn
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> name5="cl sn"</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name5</span>
<span style="color: #000000;">cl sn
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> name6='cl sn $PWD'</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name6</span>
<span style="color: #000000;">cl sn $PWD
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> name6="cl sn $PWD"</span>
[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $name6</span>
cl sn /root</pre>
</div>

### <span id="148">1.4.8 <span style="font-family: '微软雅黑',sans-serif;">普通变量的要求</span></span>

<p style="margin-left: 21.0pt;">
  1)&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 等线;">内容是纯数字、简单的连续字符（内容中不带任何空格）时，定义时可以不加任何引号，例如：</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    a.ClsnAge=22
  </p>
  
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    b.NETWORKING=yes
  </p>
</div>

<p style="margin-left: 21.0pt;">
  2)&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 等线;">没有特殊情况时，字符串一律用双引号定义赋值，特别是多个字符串中间有空格时，例如：</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    a.NFSD_MODULE="no load"
  </p>
  
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    b.MyName="Oldboy is a handsome boy."
  </p>
</div>

<p style="text-indent: 21.0pt;">
  3)&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-family: 等线;">当变量里的内容需要原样输出时，要用单引号（</span>M<span style="font-family: 等线;">），这样的需求极少，例如：</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    a.OLDBOY_NAME='OLDBOY'
  </p>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">变量使用反引号赋值</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> time=`date`</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $time</span>
2017年 12月 05日 星期二 09:02:06<span style="color: #000000;"> CST
    
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> file=`ls`</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $file</span>
clsn_test.sh panduan.sh quanju.sh yhk.sh</pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">使用</span><span style="background: yellow;">${}</span> </span>_**

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">打印变量的时候防止出现&ldquo;金庸新著&rdquo;的问题</span>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> time=`date`</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $time_day</span>
<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${time}_day</span>
2017年 12月 05日 星期二 09:02:06<span style="color: #000000;"> CST_day
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $time-day</span>
2017年 12月 05日 星期二 09:02:06 CST-day</pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">编写脚本测试</span><span style="background: lime;">${}</span></span>_**

<div class="cnblogs_code">
  <pre> <span style="color: #008000;">#</span><span style="color: #008000;"> 使用脚本测试</span>
 [root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim bianliang.sh </span>
 <span style="color: #008000;">#</span><span style="color: #008000;">!/bin/bash</span>
 <span style="color: #008000;">#</span><span style="color: #008000;">############################################################</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> File Name: bianliang.sh</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> Version: V1.0</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> Author: clsn</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:10:29</span>
 <span style="color: #008000;">#</span><span style="color: #008000;"> Description:</span>
 <span style="color: #008000;">#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">    
 time</span>=<span style="color: #000000;">`date`
 echo $timeday
 echo ${time}day
    
 [root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh  bianliang.sh </span>
<span style="color: #000000;">    
 2017年 12月 05日 星期二 0</span>9:11:19 CSTday</pre>
</div>

### <span id="149">1.4.9 <span style="font-family: '微软雅黑',sans-serif;">定义变量名技巧</span></span>

<p style="margin-left: 42.0pt; text-indent: -21.0pt;">
  1.&nbsp;<span style="font-family: '微软雅黑',sans-serif;">变量名只能为字母、数字或下划线，只能以字母或下划线开头。</span>
</p>

<p style="margin-left: 42.0pt; text-indent: -21.0pt;">
  2.&nbsp;<span style="font-family: '微软雅黑',sans-serif;">变量名的定义要有一定的规范，并且要见名知意。</span>
</p>

<span style="font-family: 等线;">示例：</span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    ClsnAge=22&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;#<==<span style="font-family: '微软雅黑',sans-serif;">每个单词的首字母大写的写法</span>
  </p>
  
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    clsn_age=22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #<==<span style="font-family: '微软雅黑',sans-serif;">单词之间用</span>"_"<span style="font-family: '微软雅黑',sans-serif;">的写法</span>
  </p>
  
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    clsnAgeSex=man&nbsp; &nbsp;#<==<span style="font-family: '微软雅黑',sans-serif; background: lime;">驼峰语法</span><span style="font-family: '微软雅黑',sans-serif;">：首个单词的首字母小写，其余单词首字母大写</span>
  </p>
  
  <p style="text-indent: 35.4pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    CLSNAGE=22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #<==<span style="font-family: '微软雅黑',sans-serif;">单词全大写的写法</span>
  </p>
</div>

<p style="margin-left: 42.0pt; text-indent: -21.0pt;">
  3.&nbsp;<span style="font-family: '微软雅黑',sans-serif;">一般的变量定义、赋值常用双引号；简单连续的字符串可以不加引号；希望原样输出时使用单引号。</span>
</p>

<p style="margin-left: 42.0pt; text-indent: -21.0pt;">
  4.&nbsp;<span style="font-family: '微软雅黑',sans-serif;">希望变量的内容是命令的解析结果时，要用反引号</span>''<span style="font-family: '微软雅黑',sans-serif;">，或者用</span>$()<span style="font-family: '微软雅黑',sans-serif;">把命令括起来再赋值。</span>
</p>

## <span id="15">1.5 <span style="font-family: '微软雅黑',sans-serif;">特殊变量</span></span>

### <span id="151">1.5.1 <span style="font-family: '微软雅黑',sans-serif;">位置变量</span></span>

<span style="font-family: 等线;">常用的特殊位置参数说明</span>

<table style="width: 100%; border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td style="width: 14.88%; border-top: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: 1pt solid #5b9bd5; border-right: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">位置变量</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: 1pt solid #5b9bd5; border-right: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">作用说明</span></strong>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.88%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$0</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">获取当前执行的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">shell</span><span style="font-size: 10.0pt; font-family: 宋体;">脚本的文件名，如果执行脚本带路径那么就包括脚本路径。</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.88%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$n</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">获取当前执行的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">shell</span><span style="font-size: 10.0pt; font-family: 宋体;">脚本的第</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">n</span><span style="font-size: 10.0pt; font-family: 宋体;">个参数值，</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">n=1..9</span><span style="font-size: 10.0pt; font-family: 宋体;">，当</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">n</span><span style="font-size: 10.0pt; font-family: 宋体;">为</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;"></span><span style="font-size: 10.0pt; font-family: 宋体;">时表示脚本的文件名，如果</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">n</span><span style="font-size: 10.0pt; font-family: 宋体;">大于</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">9</span><span style="font-size: 10.0pt; font-family: 宋体;">用大括号括起来</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">{10}</span><span style="font-size: 10.0pt; font-family: 宋体;">，参数以空格隔开。</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.88%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$#</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">获取当前执行的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">shell</span><span style="font-size: 10.0pt; font-family: 宋体;">脚本后面接的参数的总个数</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.88%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$*</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">获取当前</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">shell</span><span style="font-size: 10.0pt; font-family: 宋体;">的所有传参的参数，不加引号同</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$@;</span><span style="font-size: 10.0pt; font-family: 宋体;">如果给</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$*</span><span style="font-size: 10.0pt; font-family: 宋体;">加上双引号，例如</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">: </span><span style="font-size: 10.0pt; font-family: 宋体;">&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$*</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">,</span><span style="font-size: 10.0pt; font-family: 宋体;">则表示将所有的参数视为单个字符串，相当于&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$1$2$3</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;。</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.88%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$@</span></strong>
      </p>
    </td>
    
    <td style="width: 85.12%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">获取当前</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">shell</span><span style="font-size: 10.0pt; font-family: 宋体;">的所有传参的参数，不加引号同</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$*;</span><span style="font-size: 10.0pt; font-family: 宋体;">如果给</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$@</span><span style="font-size: 10.0pt; font-family: 宋体;">加上双引号，例如</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">: </span><span style="font-size: 10.0pt; font-family: 宋体;">&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$@</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">,</span><span style="font-size: 10.0pt; font-family: 宋体;">则表示将所有参数视为不同的独立字符串，相当于&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$1</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;</span> <span style="font-size: 10.0pt; font-family: 宋体;">&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$2</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;</span> <span style="font-size: 10.0pt; font-family: 宋体;">&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$3</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;</span> <span style="font-size: 10.0pt; font-family: 宋体;">&ldquo;&hellip;&hellip;&rdquo;，这是将参数传递给其他程序的最佳方式，因为他会保留所有内嵌在每个参数里的任何空白。</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 100%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" colspan="2" width="100%">
      <p style="margin-bottom: .0001pt;">
        <span style="font-size: 10.0pt; font-family: 宋体;">当&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$*</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;和&ldquo;</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$@</span><span style="font-size: 10.0pt; font-family: 宋体;">&rdquo;都加双引号时，两者有区别，都不加双引号时，两者无区别。</span>
      </p>
    </td>
  </tr>
</table>

**_<span style="text-decoration: underline;"><span style="background: lime;">$0,$1.$2 ~ </span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">参数实践</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################ </span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:39:16</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################ </span>
<span style="color: #000000;">    
echo $0
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第一个参数：</span><span style="color: #800000;">"</span> $1<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第二个参数：</span><span style="color: #800000;">"</span> $2<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第11个参数：</span><span style="color: #800000;">"</span> ${11<span style="color: #000000;">}
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh chanshu.sh</span>
<span style="color: #000000;">chanshu.sh
第一个参数：
第二个参数：
第11个参数：
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh chanshu.sh 1 2 3 4 5 6 7 8 9 10 11 </span>
<span style="color: #000000;">chanshu.sh
第一个参数： </span>1<span style="color: #000000;">
第二个参数： </span>2<span style="color: #000000;">
第11个参数： </span>11</pre>
</div>

**_<span style="text-decoration: underline;"><span style="background: lime;">$# </span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">参数实践</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:39:16</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">

echo $0
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第一个参数：</span><span style="color: #800000;">"</span> $1<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第二个参数：</span><span style="color: #800000;">"</span> $2<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第10个参数：</span><span style="color: #800000;">"</span> ${10<span style="color: #000000;">}
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第11个参数：</span><span style="color: #800000;">"</span> ${11<span style="color: #000000;">}
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">参数个数：</span><span style="color: #800000;">"</span> $<span style="color: #008000;">#
</span><span style="color: #000000;">


[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh chanshu.sh 55 2 3 4 5 6 7 8 9 10 11 112</span>
<span style="color: #000000;">chanshu.sh
第一个参数： </span>55<span style="color: #000000;">
第二个参数： </span>2<span style="color: #000000;">
第10个参数： </span>10<span style="color: #000000;">
第11个参数： </span>11<span style="color: #000000;">
参数个数： </span>12</pre>
</div>

**_<span style="text-decoration: underline;"><span style="background: lime;">$* </span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">参数实践</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: chanshu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:39:16</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">
echo $0
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第一个参数：</span><span style="color: #800000;">"</span> $1<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第二个参数：</span><span style="color: #800000;">"</span> $2<span style="color: #000000;">
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第10个参数：</span><span style="color: #800000;">"</span> ${10<span style="color: #000000;">}
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">第11个参数：</span><span style="color: #800000;">"</span> ${11<span style="color: #000000;">}
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">参数个数：</span><span style="color: #800000;">"</span> $<span style="color: #008000;">#
</span>echo <span style="color: #800000;">"</span><span style="color: #800000;">参数:</span><span style="color: #800000;">"</span> $*
<span style="color: #800000;">"</span><span style="color: #800000;">chanshu.sh</span><span style="color: #800000;">"</span> 18L<span style="color: #000000;">, 456C 已写入                                  
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh chanshu.sh 55 2 3 4 5 6 7 8 9 10 11 112</span>
<span style="color: #000000;">chanshu.sh
第一个参数： </span>55<span style="color: #000000;">
第二个参数： </span>2<span style="color: #000000;">
第10个参数： </span>10<span style="color: #000000;">
第11个参数： </span>11<span style="color: #000000;">
参数个数： </span>12<span style="color: #000000;">
参数: </span>55 2 3 4 5 6 7 8 9 10 11 112</pre>
</div>

_<span style="text-decoration: underline;"><span style="background: lime;">$* </span></span>__<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">与</span><span style="background: lime;"> $@ </span></span>__<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">对比实践</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> set -- "I am" handsome boy..</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $1</span>
<span style="color: #000000;">I am
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $2</span>
<span style="color: #000000;">handsome
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $3</span>
<span style="color: #000000;">boy..
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $*</span>
<span style="color: #000000;">I am handsome boy..
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $@</span>
<span style="color: #000000;">I am handsome boy..

[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> for i in $*;do echo $i ;done</span>
<span style="color: #000000;">I
am
handsome
boy..
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> for i in $@;do echo $i ;done</span>
<span style="color: #000000;">I
am
handsome
boy..
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> for i in "$@";do echo $i ;done</span>
<span style="color: #000000;">I am
handsome
boy..
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> for i in "$*";do echo $i ;done</span>
I am handsome boy..</pre>
</div>

### <span id="152">1.5.2 <span style="font-family: '微软雅黑',sans-serif;">进程状态变量</span></span>

Shell<span style="font-family: 等线;">进程的特殊状态变量说明</span>

<div align="center">
  <table style="border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
    <tr>
      <td style="width: 70.65pt; border-top: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: 1pt solid #5b9bd5; border-right: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="94">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">位置变量</span></strong>
        </p>
      </td>
      
      <td style="width: 452.15pt; border-top: 1pt solid #5b9bd5; border-right: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="603">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">作用说明</span></strong>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 70.65pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="94">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$?</span></strong>
        </p>
      </td>
      
      <td style="width: 452.15pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="603">
        <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
          <span style="font-size: 10.0pt; font-family: 宋体;">获取执行上一个指令的执行状态返回值（</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;"></span><span style="font-size: 10.0pt; font-family: 宋体;">为成功，非零为失败</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">)</span><span style="font-size: 10.0pt; font-family: 宋体;">，这个变量最常用</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 70.65pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="94">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$$</span></strong>
        </p>
      </td>
      
      <td style="width: 452.15pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="603">
        <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
          <span style="font-size: 10.0pt; font-family: 宋体;">获取当前执行的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">Shell</span><span style="font-size: 10.0pt; font-family: 宋体;">脚本的进程号（</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">PID)</span><span style="font-size: 10.0pt; font-family: 宋体;">，这个变量不常用，了解即可</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 70.65pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="94">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$!</span></strong>
        </p>
      </td>
      
      <td style="width: 452.15pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="603">
        <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
          <span style="font-size: 10.0pt; font-family: 宋体;">获取上一个在后台工作的进程的进程号（</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">PID)</span><span style="font-size: 10.0pt; font-family: 宋体;">，这个变量不常用，了解即可</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 70.65pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="94">
        <p style="margin-bottom: .0001pt; text-align: center;" align="center">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$_</span></strong>
        </p>
      </td>
      
      <td style="width: 452.15pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="603">
        <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
          <span style="font-size: 10.0pt; font-family: 宋体;">获取在此之前执行的命令或脚本的最后一个参数，这个变量不常用，了解即可</span>
        </p>
      </td>
    </tr>
  </table>
</div>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">进程参数实践</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $?</span>
<span style="color: #000000;">0
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $$</span>
1368<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $!</span>
<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $_</span>
echo</pre>
</div>

### <span id="153_echo">1.5.3 echo<span style="font-family: '微软雅黑',sans-serif;">参数说明</span></span>

<div align="center">
  <table style="border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
    <tr>
      <td style="width: 176.95pt; border-top: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: 1pt solid #5b9bd5; border-right: none; background: #5b9bd5; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">参数</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: 1pt solid #5b9bd5; border-right: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: none; background: #5b9bd5; padding: 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">参数说明</span></strong>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">-n</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">不要追加换行</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">-e</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">启用下列反斜杠转义的解释</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">-E</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">显式地抑制对于反斜杠转义的解释</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 522.8pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #5b9bd5; padding: 0cm 5.4pt;" colspan="2" valign="top" width="697">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif; color: white;">`echo' </span></strong><strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman"; color: white;">对下列反斜杠字符进行转义：</span></strong>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\n</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">换行</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\r</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">回车</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\t</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">横向制表符</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\b</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">退格</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\v</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">纵向制表符</span>
        </p>
      </td>
    </tr>
    
    <tr>
      <td style="width: 176.95pt; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" valign="top" width="236">
        <p style="margin-bottom: .0001pt;">
          <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">\c</span></strong>
        </p>
      </td>
      
      <td style="width: 345.85pt; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="461">
        <p style="margin-bottom: .0001pt;">
          <span style="font-size: 10.0pt; font-family: 宋体;">抑制更多的输出</span>
        </p>
      </td>
    </tr>
  </table>
</div>

## <span id="16">1.6 <span style="font-family: '微软雅黑',sans-serif;">定义变量的方式</span></span>

### <span id="161">1.6.1 <span style="font-family: '微软雅黑',sans-serif;">三种定义变量的方式</span></span>

<p style="margin-left: 11.0pt;">
  &nbsp;&nbsp;1<span style="font-family: 等线;">、直接赋值</span>
</p>

<p style="margin-left: 11.0pt;">
  &nbsp; 2<span style="font-family: 等线;">、传参</span> (<span style="font-family: 等线;">传递参数</span>)
</p>

<p style="margin-left: 11.0pt;">
  &nbsp; 3<span style="font-family: 等线;">、交互式设置变量，使用</span>read<span style="font-family: 等线;">命令</span>
</p>

### <span id="162_read">1.6.2 read<span style="font-family: '微软雅黑',sans-serif;">命令说明</span></span>

<span style="font-family: 等线;">在命令行中使用</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> read</span>
132<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $REPLY </span>
132<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> read clsn </span>
456<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $clsn</span>
456<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $REPLY </span>
132</pre>
</div>

<span style="font-family: 等线;">在脚本中使用</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim clsn_test.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span>
read -p <span style="color: #800000;">'</span><span style="color: #800000;">请输入:</span><span style="color: #800000;">'</span><span style="color: #000000;">  clsn

echo $clsn</span></pre>
</div>

<span style="font-family: 等线;">执行结果</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh clsn_test.sh </span>
<span style="color: #000000;">请输入:clsn_znix
clsn_znix</span></pre>
</div>

read<span style="font-family: 等线;">命令的帮助说明</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> read --help</span>
-bash: read: --<span style="color: #000000;">: 无效选项
read: 用法:read [</span>-ers] [-a 数组] [-d 分隔符] [-i 缓冲区文字] [-n 读取字符数] [-N 读取字符数] [-p 提示符] [-t 超时] [-u 文件描述符] [-s不显示终端的任何输入] [名称 ...]</pre>
</div>

### <span id="163">1.6.3 <span style="font-family: '微软雅黑',sans-serif;">定义方法实践</span></span>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">直接赋值方法</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim bianliang.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: bianliang.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:10:29</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span>
name=<span style="color: #000000;">CLSN
age</span>=22<span style="color: #000000;">
sex</span>=<span style="color: #000000;">Man
hobby</span>=<span style="color: #000000;">`ls`
ethFile</span>=/etc/sysconfig/network-scripts/ifcfg-<span style="color: #000000;">eth0

echo $hobby
ls $ethFile
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh  bianliang.sh</span>
<span style="color: #000000;">bianliang.sh chanshu.sh clsn.sh clsn_test.sh panduan.sh quanju.sh xiugaizhuji.sh yhk.sh
</span>/etc/sysconfig/network-scripts/ifcfg-eth0</pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">传参</span><span style="background: yellow;"> (</span></span>_****_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">传递参数</span><span style="background: yellow;">)</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim bianliang.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: bianliang.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 09:10:29</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span>
name=<span style="color: #000000;">CLSN
age</span>=22<span style="color: #000000;">
sex</span>=<span style="color: #000000;">Man
hobby</span>=$1<span style="color: #000000;">
ethFile</span>=$2<span style="color: #000000;">

echo $hobby
ls $ethFile
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh  bianliang.sh  clsn /etc/hostname </span>
<span style="color: #000000;">clsn
</span>/etc/hostname</pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">交互式设置变量</span><span style="background: yellow;"> read</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim yhk.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: yhk.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-04 17:01:44</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">#############################################################</span>
read -p  <span style="color: #800000;">"</span><span style="color: #800000;">请输入你的银行卡号：</span><span style="color: #800000;">"</span><span style="color: #000000;">  Yhk
read </span>-s -p  <span style="color: #800000;">"</span><span style="color: #800000;">请输入密码:</span><span style="color: #800000;">"</span><span style="color: #000000;"> miMa
echo
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">你的银行卡号：</span><span style="color: #800000;">"</span><span style="color: #000000;">  $Yhk
echo </span><span style="color: #800000;">"</span><span style="color: #800000;">你的密码为：</span><span style="color: #800000;">"</span><span style="color: #000000;"> $miMa
</span><span style="color: #008000;">#</span><span style="color: #008000;"> 测试结果</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh  yhk.sh </span>
请输入你的银行卡号：123456<span style="color: #000000;">
请输入密码:
你的银行卡号： </span>123456<span style="color: #000000;">
你的密码为： </span>123456</pre>
</div>

### <span id="164_IP">1.6.4 <span style="font-family: '微软雅黑',sans-serif;">写一个交互脚本，实现能够定义主机名及</span>IP<span style="font-family: '微软雅黑',sans-serif;">地址</span></span>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">脚本内容</span></span>_****<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">&darr;</span></span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat xiugaizhuji.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: jiaohu.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 10:55:42</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">
ethFile</span>=/etc/sysconfig/network-scripts/ifcfg-eth[01<span style="color: #000000;">]
Now_eth</span>=`hostname -I|awk -F <span style="color: #800000;">"</span><span style="color: #800000;">[. ]+</span><span style="color: #800000;">"</span> <span style="color: #800000;">'</span><span style="color: #800000;">{print $4}</span><span style="color: #800000;">'</span><span style="color: #000000;">`

read </span>-p <span style="color: #800000;">"</span><span style="color: #800000;">请输入主机名:</span><span style="color: #800000;">"</span><span style="color: #000000;"> Hostname
read </span>-p <span style="color: #800000;">"</span><span style="color: #800000;">请输入IP地址的主机位:</span><span style="color: #800000;">"</span><span style="color: #000000;"> HostIP

hostnamectl set</span>-<span style="color: #000000;">hostname  $Hostname
 
sed  </span>-i <span style="color: #800000;">"</span><span style="color: #800000;">s#${Now_eth}#${HostIP}#g</span><span style="color: #800000;">"</span><span style="color: #000000;"> $ethFile 

read </span>-p <span style="color: #800000;">"</span><span style="color: #800000;">是否重启服务器:{yes/no}</span><span style="color: #800000;">"</span><span style="color: #000000;">  REboot

</span><span style="color: #0000ff;">if</span> [ $REboot ==<span style="color: #000000;"> yes ]
then 
   echo </span><span style="color: #800000;">"</span><span style="color: #800000;">系统将在10秒后重启！</span><span style="color: #800000;">"</span><span style="color: #000000;">
   shutdown </span>-r  10 
<span style="color: #0000ff;">else</span><span style="color: #000000;">
   echo </span><span style="color: #800000;">"</span><span style="color: #800000;">请稍后手动重启系统！</span><span style="color: #800000;">"</span><span style="color: #000000;">
fi</span></pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">脚本测试结果</span></span>_**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh xiugaizhuji.sh</span>
<span style="color: #000000;">请输入主机名:clsn
请输入IP地址的主机位:</span>180<span style="color: #000000;">
是否重启服务器:{yes</span>/<span style="color: #000000;">no}yes
系统将在10秒后重启！
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh xiugaizhuji.sh</span>
<span style="color: #000000;">请输入主机名:clsn
请输入IP地址的主机位:</span>180<span style="color: #000000;">
是否重启服务器:{yes</span>/<span style="color: #000000;">no}no
请稍后手动重启！</span></pre>
</div>

## <span id="17">1.7 <span style="font-family: '微软雅黑',sans-serif;">变量的子串</span></span>

### <span id="171">1.7.1 <span style="font-family: '微软雅黑',sans-serif;">变量子串说明</span></span>

<table style="width: 100%; border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td style="width: 39.26%; border-top: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: 1pt solid #5b9bd5; border-right: none; background: #5b9bd5; padding: 0cm 5.4pt;" valign="top" width="39%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">表达式</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: 1pt solid #5b9bd5; border-right: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: none; background: #5b9bd5; padding: 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: center;" align="center">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";color: white;">说明</span></strong>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">返回变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">$parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">的内容</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${#parameter}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";background: yellow;">返回变内容的长度（按字符</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif; background: yellow;">)</span><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman";background: yellow;">，也适用于特殊变量</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameterioffset}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">在变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">中，从位置</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">offset</span><span style="font-size: 10.0pt; font-family: 宋体;">之后开始提取子串到结尾</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter:offset:length}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">在变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">中，从位置</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">offset</span><span style="font-size: 10.0pt; font-family: 宋体;">之后开始提取长度为</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">length</span><span style="font-size: 10.0pt; font-family: 宋体;">的子串</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter#word}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">从变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">开头开始删除最短匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">子串</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter##word}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">从变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">开头开始删除最长匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">子串</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter%word}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">从变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">结尾开始删除最短匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">子串</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter%%word}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">从变量</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter}</span><span style="font-size: 10.0pt; font-family: 宋体;">结尾开始删除最长匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">子串</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter/pattem/string}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">使用</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">string</span><span style="font-size: 10.0pt; font-family: 宋体;">代替第一个匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">pattern</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 39.26%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="39%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter//pattem/string}</span></strong>
      </p>
    </td>
    
    <td style="width: 60.74%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" valign="top" width="60%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">使用</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">string</span><span style="font-size: 10.0pt; font-family: 宋体;">代替所有匹配的</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">pattern</span>
      </p>
    </td>
  </tr>
</table>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">计算变赋值的长度</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> clsn=http://blog.znix.top</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn} |wc -L </span>
20<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${#clsn} </span>
20<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> time echo ${clsn} |wc -L </span>
20<span style="color: #000000;">

real    0m0.002s
user    0m0.002s
sys    0m0.000s
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> time echo ${#clsn} </span>
20<span style="color: #000000;">

real    0m0.000s
user    0m0.000s
sys    0m0.000s</span></pre>
</div>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">截取变量中的字符</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> clsn=abcABC123ABCabc</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn#abc}</span>
<span style="color: #000000;">ABC123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn##abc}</span>
<span style="color: #000000;">ABC123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%abc}</span>
<span style="color: #000000;">abcABC123ABC
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%%abc}</span>
<span style="color: #000000;">abcABC123ABC
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn#a*c}</span>
<span style="color: #000000;">ABC123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn##a*c}</span>
<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%a*c}</span>
<span style="color: #000000;">abcABC123ABC
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%%a*c}</span>
<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn#a*C}</span>
<span style="color: #000000;">123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn#a*C}</span>
<span style="color: #000000;">123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn##a*C}</span>
<span style="color: #000000;">abc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%a*c}</span>
<span style="color: #000000;">abcABC123ABC
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%A*c}</span>
<span style="color: #000000;">abcABC123
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn%%A*c}</span>
abc</pre>
</div>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">替换变量内容</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $clsn</span>
<span style="color: #000000;">abcABC123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn/abc/clsn}</span>
<span style="color: #000000;">clsnABC123ABCabc
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo ${clsn//abc/clsn}</span>
clsnABC123ABCclsn</pre>
</div>

**_<span style="text-decoration: underline;"><span style="font-family: 等线; background: lime;">有关上述匹配删除的小结</span></span>_**

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    #<span style="font-family: '微软雅黑',sans-serif;">表示从幵头删除匹配最短。</span>
  </p>
  
  <p>
    ##<span style="font-family: '微软雅黑',sans-serif;">表示从开头删除匹配最长。</span>
  </p>
  
  <p>
    %<span style="font-family: '微软雅黑',sans-serif;">表示从结尾删除匹配最短。</span>
  </p>
  
  <p>
    %%<span style="font-family: '微软雅黑',sans-serif;">表示从结尾删除匹配最长。</span>
  </p>
  
  <p>
    a*c<span style="font-family: '微软雅黑',sans-serif;">表示匹配的突符串，</span>*<span style="font-family: '微软雅黑',sans-serif;">表示匹配所有，</span>a*c<span style="font-family: '微软雅黑',sans-serif;">匹配开头为</span>a<span style="font-family: '微软雅黑',sans-serif;">、中间为任意多个字符、结尾为</span>c<span style="font-family: '微软雅黑',sans-serif;">的字符串。</span>
  </p>
  
  <p>
    a*C<span style="font-family: '微软雅黑',sans-serif;">表示匹配的字符串，</span>*<span style="font-family: '微软雅黑',sans-serif;">表示匹配所有，</span>a*C<span style="font-family: '微软雅黑',sans-serif;">匹配开头为</span>a<span style="font-family: '微软雅黑',sans-serif;">、中间为任意多个字符、结尾为</span>C<span style="font-family: '微软雅黑',sans-serif;">的字符串。</span>
  </p>
</div>

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">有关替换的小结</span>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    <span style="font-family: '微软雅黑',sans-serif;">一个&ldquo;</span>/<span style="font-family: '微软雅黑',sans-serif;">&rdquo;表示替换匹配的第</span>-<span style="font-family: '微软雅黑',sans-serif;">个字符串。</span>
  </p>
  
  <p>
    <span style="font-family: '微软雅黑',sans-serif;">两个&ldquo;</span>/<span style="font-family: '微软雅黑',sans-serif;">&rdquo;表示替换匹配的所有字符串。</span>
  </p>
</div>

### <span id="172_Shell">1.7.2 Shell<span style="font-family: '微软雅黑',sans-serif;">的特殊扩展变量说明</span></span>

<table style="width: 100%; border-collapse: collapse; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
  <tr>
    <td style="width: 14.58%; border-top: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: 1pt solid #5b9bd5; border-right: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman"; color: white;">表达式</span></strong>
      </p>
    </td>
    
    <td style="width: 85.42%; border-top: 1pt solid #5b9bd5; border-right: 1pt solid #5b9bd5; border-bottom: 1pt solid #5b9bd5; border-left: none; background: #5b9bd5; padding: 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman"; color: white;">说</span></strong><strong><span style="font-size: 10.0pt; font-family: 宋体; times new roman"4times new roman";times new roman"; color: white;">明</span></strong>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.58%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter:-word}</span></strong>
      </p>
    </td>
    
    <td style="width: 85.42%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">如果</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">的变量值为空或未赋值，则会返回</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">字符串并替代变量的值用途</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">.</span><span style="font-size: 10.0pt; font-family: 宋体;">如果变量未定义，则返回备用的值，防止变量为空值或因未定义而导致异常</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.58%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter:=word}</span></strong>
      </p>
    </td>
    
    <td style="width: 85.42%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">如果</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">的变量值为空或未赋值，则设置这个变量值为</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word,</span><span style="font-size: 10.0pt; font-family: 宋体;">并返回其值。位置变量和特殊变量不适用用途：基本同上一个</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter>word}</span><span style="font-size: 10.0pt; font-family: 宋体;">，但该变量又额外给</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">变量赋值了</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.58%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; background: #deeaf6; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter:?word}</span></strong>
      </p>
    </td>
    
    <td style="width: 85.42%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; background: #DEEAF6; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">如果</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">变量值为空或未赋值，那么</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">字符串将被作为标准错误输出，否则输出变量的值。用途：用于捕捉由于变量未定义而导致的错误，并退出程序</span>
      </p>
    </td>
  </tr>
  
  <tr>
    <td style="width: 14.58%; border-right: 1pt solid #9cc2e5; border-bottom: 1pt solid #9cc2e5; border-left: 1pt solid #9cc2e5; border-top: none; padding: 0cm 5.4pt;" width="14%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <strong><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">${parameter:+word}</span></strong>
      </p>
    </td>
    
    <td style="width: 85.42%; border-top: none; border-left: none; border-bottom: solid #9CC2E5 1.0pt; border-right: solid #9CC2E5 1.0pt; padding: 0cm 5.4pt 0cm 5.4pt;" width="85%">
      <p style="margin-bottom: .0001pt; text-align: justify; text-justify: inter-ideograph;">
        <span style="font-size: 10.0pt; font-family: 宋体;">如果</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">parameter</span><span style="font-size: 10.0pt; font-family: 宋体;">变量值为空或未赋值，则什么都不做，否则</span><span style="font-size: 10.0pt; font-family: 'Times New Roman',serif;">word</span><span style="font-size: 10.0pt; font-family: 宋体;">字符串将替代变量的值</span>
      </p>
    </td>
  </tr>
</table>

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">特殊变量实践</span></span>_

_<span style="text-decoration: underline;"><span style="font-family: 等线; background: yellow;">脚本内容</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat  clsn.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: clsn.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-05 12:13:38</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
dir=<span style="color: #000000;">
echo ${dir:</span>-/<span style="color: #000000;">tmp}
echo ${dir}
echo ${dir:</span>=/<span style="color: #000000;">mnt}
echo ${dir}
dir2</span>=<span style="color: #000000;"> (空格)
echo ${dir2</span>-/<span style="color: #000000;">tmp}
echo ${dir2}
echo ${dir2:</span>-/<span style="color: #000000;">tmp}
echo ${dir2}
echo ${dir2</span>=/<span style="color: #000000;">mnt}
echo ${dir2}</span></pre>
</div>

<span style="font-family: 等线;">测试结果</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh clsn.sh </span>
/<span style="color: #000000;">tmp

</span>/<span style="color: #000000;">mnt
</span>/<span style="color: #000000;">mnt


</span>/tmp</pre>
</div>

<span style="font-family: 等线;">至此</span>shell<span style="font-family: 等线;">中的变量就都介绍完了</span>

## <span id="18">1.8 <span style="font-family: '微软雅黑',sans-serif;">变量的数值计算</span></span>

### <span id="181">1.8.1 <span style="font-family: '微软雅黑',sans-serif;">仅支持整数的运算</span></span>

**<span style="background: yellow;">echo $((</span>****<span style="font-family: 等线; background: yellow;">数学运算表达式</span><span style="background: yellow;">))</span>**

<div class="cnblogs_code">
  <pre><span style="color: #008000;">#</span><span style="color: #008000;"> 形式一</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $((1 + 1))</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((2*7-3/6+5))</span>
19
<span style="color: #008000;">#</span><span style="color: #008000;"> 形式二</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> ((clsn=2*8))</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $clsn</span>
16
<span style="color: #008000;">#</span><span style="color: #008000;"> 形式三</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> znix=$((2*7-3/6+5))</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $znix</span>
19</pre>
</div>

<p style="text-indent: 15.75pt;">
  <strong><span style="font-family: 等线; color: red;">延伸产物</span><span style="color: red;">(</span></strong><strong><span style="font-family: 等线; color: red;">重要</span><span style="color: red;">)</span></strong>
</p>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    i++ <span style="font-family: '微软雅黑',sans-serif;">自增</span>1
  </p>
  
  <p>
    i-- <span style="font-family: '微软雅黑',sans-serif;">自减</span>1
  </p>
  
  <p>
    ++i
  </p>
  
  <p>
    --i
  </p>
</div>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _<span style="text-decoration: underline;"><span style="font-family: 等线;">示例：</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> i=1</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $((i++))</span>
1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((i++))</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((i--))</span>
3<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((i--))</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((i--))</span>
1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((++i))</span>
1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((++i))</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((++i))</span>
3<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((--i))</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((--i))</span>
1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $((--i))</span>
0</pre>
</div>

<span style="font-family: 等线;">记忆方法：</span>++<span style="font-family: 等线;">，</span>--

<p style="text-indent: 21.0pt;">
  <span style="font-family: 等线;">变量</span>a<span style="font-family: 等线;">在前，表达式的值为</span>a<span style="font-family: 等线;">，然后</span>a<span style="font-family: 等线;">自增或自减，变量</span>a<span style="font-family: 等线;">在符号后，表达式值自增或自减，然后</span>a<span style="font-family: 等线;">值自增或自减。</span>
</p>

**<span style="background: yellow;">let</span>****<span style="font-family: 等线; background: yellow;">命令</span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> i=1</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> i=i+1</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $i</span>
i+1<span style="color: #000000;">

[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> i=1</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> let i=i+1</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $i</span>
2</pre>
</div>

**<span style="background: yellow;">expr </span>****<span style="font-family: 等线; background: yellow;">命令</span>**

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p style="text-indent: 1cm; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    1.<span style="font-family: '微软雅黑',sans-serif;">整数计算</span>
  </p>
  
  <p style="text-indent: 1cm; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    2.<span style="font-family: '微软雅黑',sans-serif;">判断扩展名</span>
  </p>
  
  <p style="text-indent: 1cm; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    3.<span style="font-family: '微软雅黑',sans-serif;">判断输入是否为整数，非整数返回值为</span>2
  </p>
  
  <p style="text-indent: 1cm; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;">
    4.<span style="font-family: '微软雅黑',sans-serif;">计算变量的长度</span>
  </p>
</div>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> expr 1+1</span>
1+1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> expr 1 + 1</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> expr 1 * 1</span>
<span style="color: #000000;">expr: 语法错误
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> expr 1 \* 1</span>
1</pre>
</div>

_<span style="font-family: 等线;">非整数返回值为</span>2_ _<span style="font-family: 等线;">示例：</span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> expr 1 + 1 </span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $?</span>
<span style="color: #000000;">0
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> expr -1 + 1 </span>
<span style="color: #000000;">0
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $?</span>
1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> expr a + 1 </span>
<span style="color: #000000;">expr: 非整数参数
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $?</span>
2</pre>
</div>

**<span style="background: yellow;">$[]</span>****<span style="font-family: 等线; background: yellow;">运算符</span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $[1+2]</span>
3<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $[1-2]</span>
-1<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $[1*2]</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo $[1/2]</span>
0</pre>
</div>

**<span style="background: yellow;">typeset</span>****<span style="font-family: 等线; background: yellow;">命令进行运算</span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> typeset -i A=2017 B=2018</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> A=A+B</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo $A</span>
4035</pre>
</div>

### <span id="182">1.8.2 <span style="font-family: '微软雅黑',sans-serif;">可以进行小数运算的命令</span></span>

**<span style="background: yellow;">bc&nbsp;&nbsp;&nbsp; </span>****<span style="font-family: 等线; background: yellow;">命令</span>**

<div class="cnblogs_code">
  <pre><span style="color: #008000;">#</span><span style="color: #008000;"> 安装 bc  依赖于base源</span>
[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> yum -y install bc</span></pre>
</div>

&nbsp;&nbsp;<span style="font-family: 等线;">交互模式测试</span>bc<span style="font-family: 等线;">命令</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> bc</span>
bc 1.06.95<span style="color: #000000;">
Copyright </span>1991-1994, 1997, 1998, 2000, 2004, 2006<span style="color: #000000;"> Free Software Foundation, Inc. 
</span>1+1
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> echo 1+1.1|bc</span>
2.1</pre>
</div>

<p style="text-indent: 11.0pt;">
  <span style="font-family: 等线;">免交互模式测试</span>bc<span style="font-family: 等线;">命令</span>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> echo 'scale=6;1/3'|bc</span>
.333333</pre>
</div>

**<span style="background: yellow;">python </span>****<span style="font-family: 等线; background: yellow;">命令</span>**

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;">  file `which yum `</span>
/usr/bin/<span style="color: #000000;">yum: Python script, ASCII text executable
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> python </span>
>>> <span style="color: #0000ff;">import</span><span style="color: #000000;"> os
</span>>>> os.system(<span style="color: #800000;">'</span><span style="color: #800000;">df -h</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span>>>> 1+1.1
2.1
>>>exit()</pre>
</div>

**<span style="background: yellow;">awk </span>****<span style="font-family: 等线; background: yellow;">命令</span>**

<div class="cnblogs_code">
  <pre>[root@clsn ~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "7.7 3.8"|awk '{print ($1-$2)}'</span>
3.9<span style="color: #000000;">
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "358 113"|awk '{print ($1-3)/$2}'</span>
3.14159<span style="color: #000000;">
[root@clsn </span>~]<span style="color: #008000;">#</span><span style="color: #008000;"> echo "3 9"|awk '{print ($1+3)*$2}'</span>
54<span style="color: #000000;">
[root@backup scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> awk BEGIN'{print 1.2+3.3}'</span>
4.5</pre>
</div>

### <span id="183">1.8.3 <span style="font-family: '微软雅黑',sans-serif;">运算相关练习题</span></span>

#### <span id="1831nbsp"><strong>1.8.3.1&nbsp;</strong><strong><span style="font-family: '微软雅黑',sans-serif;">【练习题】实现一个加减乘除等功能的计算器</span></strong></span>

<p style="margin-left: 7.1pt;">
  <em><span style="text-decoration: underline;"><span style="font-family: 等线;">实现脚本：</span></span></em>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> cat jishuanqi.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: jishuanqi.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-06 08:57:13</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">
read </span>-p <span style="color: #800000;">"</span><span style="color: #800000;">请输入第一个整数:</span><span style="color: #800000;">"</span><span style="color: #000000;"> a
read </span>-p <span style="color: #800000;">"</span><span style="color: #800000;">请输入第二个整数:</span><span style="color: #800000;">"</span><span style="color: #000000;"> b


echo $a </span>+ $b =$(($a+<span style="color: #000000;">$b))
echo $a </span>- $b =$(($a-<span style="color: #000000;">$b))
echo $a \</span>* $b =$(($a*<span style="color: #000000;">$b))
echo $a </span>/ $b =$(($a/$b))</pre>
</div>

_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_ _<span style="text-decoration: underline;"><span style="font-family: 等线;">脚本执行过程：</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh jishuanqi.sh </span>
请输入第一个整数:12<span style="color: #000000;">
请输入第二个整数:</span>12
12 + 12 =24
12 - 12 =<span style="color: #000000;">0
</span>12 * 12 =144
12 / 12 =1</pre>
</div>

<span style="font-family: 等线;">精简方法</span>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim jishuanqi2.sh </span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: jishuanqi2.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-06 15:02:41</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
echo $(($1))</pre>
</div>

_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_ _<span style="text-decoration: underline;"><span style="font-family: 等线;">脚本执行过程：</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh jishuanqi2.sh  1+1</span>
2<span style="color: #000000;">
[root@clsn scripts]</span><span style="color: #008000;">#</span><span style="color: #008000;"> sh jishuanqi2.sh  1*9</span>
9</pre>
</div>

#### <span id="1832nbsp1234567891055"><strong>1.8.3.2&nbsp;</strong><strong><span style="font-family: '微软雅黑',sans-serif;">【练习题】打印结果</span>1+2+3+4+5+6+7+8+9+10=55</strong></span>

<p style="margin-left: 7.1pt;">
  <em><span style="text-decoration: underline;"><span style="font-family: 等线;">脚本内容</span></span></em>
</p>

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> vim yunshuan.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;">!/bin/bash</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span><span style="color: #008000;">
#</span><span style="color: #008000;"> File Name: yunshuan.sh</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Version: V1.0</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Author: clsn</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Organization: http://blog.znix.top</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Created Time : 2017-12-06 09:40:31</span><span style="color: #008000;">
#</span><span style="color: #008000;"> Description:</span><span style="color: #008000;">
#</span><span style="color: #008000;">############################################################</span>
<span style="color: #000000;">
Num</span>=`seq -s + 1 10<span style="color: #000000;">`
echo  $Num</span>=$(($Num))</pre>
</div>

_<span style="text-decoration: underline;"><span style="font-family: 等线;">脚本执行结果</span></span>_

<div class="cnblogs_code">
  <pre>[root@clsn scripts]<span style="color: #008000;">#</span><span style="color: #008000;"> sh  yunshuan.sh</span>
1+2+3+4+5+6+7+8+9+10=55</pre>
</div>

## <span id="19">1.9 <span style="font-family: '微软雅黑',sans-serif;">补充说明</span></span>

<p style="text-indent: 11.0pt;">
  shell<span style="font-family: 等线;">脚本中批量注释的方法</span>
</p>

<div class="cnblogs_code">
  <pre>&lt;&lt;<span style="color: #800000;">'</span><span style="color: #800000;">EOF</span><span style="color: #800000;">'</span><span style="color: #000000;">
文件内容
EOF
   或
   使用 exit可以注释其之后的所有内容(类似注释，实质为不执行后面的内容)</span></pre>
</div>

## <span id="191">1.9.1 <span style="font-family: '微软雅黑',sans-serif;">参考文献</span></span>

<div style="border: solid windowtext 2.0pt; padding: 1.0pt 4.0pt 1.0pt 4.0pt; background: #F2F2F2;">
  <p>
    http://blog.csdn.net/lansesl2008/article/details/20558369
  </p>
  
  <p>
    https://www.abcdocker.com/abcdocker/269
  </p>
  
  <p>
    http://blog.51cto.com/life2death/1657133
  </p>
</div>

<p style="text-align: right;">
  &nbsp;<strong>&nbsp;本文出自&ldquo;惨绿少年&rdquo;，欢迎转载，转载请注明出处！http://blog.znix.top</strong>
</p>

&nbsp;

<div id="toc_container" class="toc_white have_bullets">
  <ul class="toc_list">
    <li>
      <a href="#11">1.1 前言</a><ul>
        <li>
          <a href="#111_Shell">1.1.1 为什么学Shell</a>
        </li>
        <li>
          <a href="#112_shell">1.1.2 什么是shell</a>
        </li>
        <li>
          <a href="#113_Shell">1.1.3 什么是Shell脚本</a>
        </li>
        <li>
          <a href="#114">1.1.4 脚本语言的种类</a>
        </li>
        <li>
          <a href="#115_shell">1.1.5 系统中的shell</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#12">1.2 脚本书写规范</a><ul>
        <li>
          <a href="#121">1.2.1 脚本统一存放目录</a>
        </li>
        <li>
          <a href="#122">1.2.2 选择解释器</a>
        </li>
        <li>
          <a href="#123_vim">1.2.3 编辑脚本使用vim</a>
        </li>
        <li>
          <a href="#124">1.2.4 文件名规范</a>
        </li>
        <li>
          <a href="#125">1.2.5 开发的规范和习惯小结</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#13_shell">1.3 shell脚本的执行</a><ul>
        <li>
          <a href="#131">1.3.1 执行脚本的办法</a>
        </li>
        <li>
          <a href="#132_sh_source">1.3.2 sh 于 source的区别</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#14_Shell">1.4 Shell的变量</a><ul>
        <li>
          <a href="#141">1.4.1 什么是变量</a>
        </li>
        <li>
          <a href="#142">1.4.2 环境变量</a>
        </li>
        <li>
          <a href="#143">1.4.3 普通变量</a>
        </li>
        <li>
          <a href="#144_export">1.4.4 export命令</a>
        </li>
        <li>
          <a href="#145">1.4.5 环境变量相关配置文件</a>
        </li>
        <li>
          <a href="#146">1.4.6 环境变量的知识小结</a>
        </li>
        <li>
          <a href="#147">1.4.7 变量中引号的使用</a>
        </li>
        <li>
          <a href="#148">1.4.8 普通变量的要求</a>
        </li>
        <li>
          <a href="#149">1.4.9 定义变量名技巧</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#15">1.5 特殊变量</a><ul>
        <li>
          <a href="#151">1.5.1 位置变量</a>
        </li>
        <li>
          <a href="#152">1.5.2 进程状态变量</a>
        </li>
        <li>
          <a href="#153_echo">1.5.3 echo参数说明</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#16">1.6 定义变量的方式</a><ul>
        <li>
          <a href="#161">1.6.1 三种定义变量的方式</a>
        </li>
        <li>
          <a href="#162_read">1.6.2 read命令说明</a>
        </li>
        <li>
          <a href="#163">1.6.3 定义方法实践</a>
        </li>
        <li>
          <a href="#164_IP">1.6.4 写一个交互脚本，实现能够定义主机名及IP地址</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#17">1.7 变量的子串</a><ul>
        <li>
          <a href="#171">1.7.1 变量子串说明</a>
        </li>
        <li>
          <a href="#172_Shell">1.7.2 Shell的特殊扩展变量说明</a>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#18">1.8 变量的数值计算</a><ul>
        <li>
          <a href="#181">1.8.1 仅支持整数的运算</a>
        </li>
        <li>
          <a href="#182">1.8.2 可以进行小数运算的命令</a>
        </li>
        <li>
          <a href="#183">1.8.3 运算相关练习题</a><ul>
            <li>
              <a href="#1831nbsp">1.8.3.1&nbsp;【练习题】实现一个加减乘除等功能的计算器</a>
            </li>
            <li>
              <a href="#1832nbsp1234567891055">1.8.3.2&nbsp;【练习题】打印结果1+2+3+4+5+6+7+8+9+10=55</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    
    <li>
      <a href="#19">1.9 补充说明</a>
    </li>
    <li>
      <a href="#191">1.9.1 参考文献</a>
    </li>
  </ul>
</div>